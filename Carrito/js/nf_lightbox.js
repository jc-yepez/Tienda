/*~~~ NofeFire LightBox v1.1.0 - www.opencube.com [Copyright (c) 2012, OpenCube Inc. All Rights Reserved.] ~~~*/
var NF=new _NF();if(window.jQuery){(function(a){a.fn.NF=this.NF}(jQuery))}function _NF(){Array.prototype.NFisArray=1;if(!window.$){window.$=function(b){return[document.getElementById(b.replace("#",""))]}}}_NF.prototype._util=function(){this.string=new function(){this.capitalize=function(e){if(e.length>0){return e.substring(0,1).toUpperCase()+e.substring(1)}}};this.object=new function(){var e=this;this.clone=function(h,g){if(!h||typeof h!="object"||h.nodeType){return h}g=g||[];for(var f in g){if(h==g[f]){return h}}g.push(h);var j=(h.NFisArray?[]:{});for(var f in h){j[f]=e.clone(h[f],g)}return j}};this.array=new function(){this.removeItem=function(e,g,f){return e.splice(this.indexOf(e,g,f),1)};this.indexOf=function(e,h,f){for(var g=0;g<e.length;g++){if((f?e[g][f]:e[g])==h){return g}}return -1}};function d(){var h="className",f="parentNode",g=this;function e(i){return new RegExp("\\b"+i+"\\b","g")}g.addClass=g.aC=function(k,j){var i;if(k&&(typeof(i=k[h])=="string")){if(i.search(e(j))<0){k[h]+=(i?" ":"")+j;return true}}};g.removeClass=g.rC=function(l,j){var i;if(l&&(typeof(i=l[h])=="string")){var k=l[h];l[h]=l[h].replace(e(j),"");return(k!=l[h])}};g.isRelation=function(i,j){if(i&&j){if(g.iD(i,j)||g.iD(j,i)){return true}}};g.isDescendant=g.iD=function(i,j){if(i&&j){while(j=j[f]){if(j==i){return true}}}};g.getFirstDecendantByClassName=g.gFD=function(o,k,j){var q=k;if(q){if(!q.NFisArray){q=[k]}if(j&&NF.u.d.hC(o,q)){return o}for(var l=0;l<q.length;l++){var m=NF.u.d.gEBCN(o,q[l],true);if(m){return m}}}};g.getNodesByClassName=g.gEBCN=function(o,k,j){var q=[],n=e(k),m=o.getElementsByTagName("*");for(var l=0;l<m.length;l++){if(n.test(m[l][h])){q.push(m[l]);if(j){return m[l]}}}if(!j){return q}};g.hasClass=g.hC=function(r,q,p){if(!q.NFisArray){q=[q]}var l,j=0,k=q.length;if(r&&(l=r[h])){for(var o=0;o<k;o++){if(e(q[o]).test(l)){if(!p||k==1){return q[o]}else{j++}}}if(p&&j==k){return q}}}}d.prototype=this;this.d=this.dom=new d();function c(){var f=this;f.getBrowserSpecifcStyleName=function(l,j){var k=l;if(NF.util.browser.ie8Down){if(j){k="zoom"}else{k=""}}else{var m=document.createElement("DIV");var h=["","Moz","Webkit","ms","O","Khtml"];for(var g=0;g<h.length;g++){k=h[g];k+=((!h[g])?l:NF.util.string.capitalize(l));if(typeof m.style[k]!="undefined"){break}}if(j){j="scale("+j+")"}}return{styleName:k,zoomValue:j}};f.getComputedStyle=f.gCS=function(j,g,h){if(j){var i;if((i=document.defaultView)&&(i=i.getComputedStyle)){return i(j,null).getPropertyValue(g)}else{if(i=j.currentStyle){return i[h]}}}};f.getOuterOffsets=function(q,p){var l={w:0,h:0};if(q){var o=["top","right","bottom","left"];var m=["Top","Right","Bottom","Left"];var j={};for(var k=0;k<o.length;k++){var n=0;n+=parseFloat(f.getComputedStyle(q,"padding-"+o[k],"padding"+m[k]))||0;n+=parseFloat(f.getComputedStyle(q,"border-"+o[k]+"-width","border"+m[k]+"Width"))||0;if(p){j[o[k]]=parseFloat(f.getComputedStyle(q,"margin-"+o[k],"margin"+m[k]))||0;n+=j[o[k]]}if(isNaN(n)){n=0}if(k==0||k==2){l.h+=n}else{l.w+=n}}}var h=l.w,r=l.h;var g={w:h,h:r,width:h,height:r,offsetWidth:h,offsetHeight:r,cW:h,cH:r};g.margin=j;return g};f.getInnerOffsets=f.gI=function(j){var i=e(j,"Left")+e(j,"Right");var g=e(j,"Top")+e(j,"Bottom");var k=(typeof i=="number")?j.clientWidth-i:j.clientWidth;var h=(typeof g=="number")?j.clientHeight-g:j.clientHeight;return{w:k,h:h,width:k,height:h,offsetWidth:k,offsetHeight:h}};function e(h,g){return parseInt(f.getComputedStyle(h,"padding-"+g,"padding"+g))||0}}c.prototype=this;this.c=this.css=new c();function a(){var g=this;var f=navigator.userAgent;var e=f.toLowerCase();g.mobile=e.indexOf("mobile")+1;g.smallMobile=g.mobile&&window.devicePixelRatio>1;g.ipad=e.indexOf("ipad")+1;g.ios=e.indexOf("like mac")+1;g.android=e.indexOf("android")+1;g.ie=f.indexOf("MSIE")+1;g.ie7=(g.ie&&f.indexOf("MSIE 7")+1);g.ie8=(g.ie&&f.indexOf("MSIE 8")+1);g.ie9=(g.ie&&f.indexOf("MSIE 9")+1);g.ie9Up=(g.ie&&f.indexOf("MSIE 1")+1)||g.ie9;g.ie6Down=(g.ie&&!window.XMLHttpRequest);g.ie7Down=(g.ie7||g.ie6Down);g.ie8Down=(g.ie8||g.ie7Down);g.firefox=e.indexOf("firefox")+1;g.chrome=e.indexOf("chrome")+1;g.safari=!g.chrome&&e.indexOf("safari")+1;g.opera=e.indexOf("opera")+1;g.webkit=e.indexOf("webkit")+1;this.getValue=function(j,l,h){if(typeof j!="object"){return j}var m=j.all;for(var k in j){if((NF.u.browser[k]||(h&&h[k]))&&(j[k]||(l&&typeof j[k]==l))){m=j[k];break}}return m}}a.prototype=this;this.browser=new a();this.eventStore=function(f){var e={};this.getEvent=function(g){return e[g]};this.addEvent=function(h,g){e[h]={handle:g}};this.getHandle=function(h){var g=e[h];if(g){return g.handle}};this.fire=function(g,i){this.lastEvent={type:g,args:i};if(!i.NFisArray){i=new Array(i)}var j;if(j=this.getHandle(g)){return j.apply(f,i)}}};function b(){var g=this;g.loaded;g.addListener=function(o,h,m){if(o){if(!o.NFisArray){o=[o]}for(var l=0;l<o.length;l++){if(h&&!h.NFisArray){h=[h]}for(var k=0;k<h.length;k++){var n;if(!(n=o[l].nf_eventStore)){n=o[l].nf_eventStore=new NF.util.eventStore(o[l])}n.addEvent(h[k],m);if(h[k]=="ready"){e()}}}}};function e(i){if(NF.u.browser.opera||NF.u.browser.firefox||NF.u.browser.ie9Up||NF.u.browser.webkit){document.addEventListener("DOMContentLoaded",f,false)}else{if(NF.u.browser.ie){document.write("<script id='NFreadytest' type='text/javascript' defer='defer' src='javascript:void(0)'><\/script>");var h=document.getElementById("NFreadytest");h.onreadystatechange=function(){if(this.readyState=="complete"){f()}}}else{setTimeout(function(){NF.u.e.fire(document,"ready")},1000)}}}function f(){NF.u.e.fire(document,"ready")}g.addDomListener=function(o,h,n,m,j){if(h=="ready"){NF.u.e.addListener(document,h,n);return}var l=n;if(m){l=function(i){o[m](i)}}if(!h.NFisArray){h=[h]}for(var k=0;k<h.length;k++){if(o.addEventListener){o.addEventListener(h[k],l,j)}else{if(o.attachEvent){o.attachEvent("on"+h[k],l)}}}};g.addDomListener(window,"load",function(){g.loaded=true});g.fire=function(k,h,i){var j=k.nf_eventStore;if(j){if(i){if(!i.NFisArray){i=[i]}else{if(typeof i[0]!="object"){i[0]={}}}}else{i=[{}]}i[0].type=h;i[0].target=k;return j.fire(h,i)}};g.stopPropogation=function(h,i){if(h){h.cancelBubble=true;if(h.stopPropagation){h.stopPropagation()}if(i&&h.preventDefault){h.preventDefault()}return false}};g.preventDefault=function(h){if(h){if(h.preventDefault){h.preventDefault()}h.returnValue=false}}}b.prototype=this;this.e=this.event=new b()};NF._util.prototype=NF;_NF.prototype.u=_NF.prototype.util=new NF._util();_NF.prototype._anim=function(){this.clip=function(a,d){var c=new Object();c.os={};this.params=d;this.type="clip";if(a&&!a.NFisArray){a=[a]}for(var b=0;b<a.length;b++){if(!a[b].isStyleAnim){a[b]=new NF.anim.styleAnim(a[b],this)}}this.getAnimations=function(){return a};this.applyNode=function(f){if(f){var h=this.params.targetClass;if(h){var g=NF.u.d.gFD(f,h);if(!g&&NF.u.d.hC(f,h)){g=f}f=g}this.params.node=f}};this.renderFrame=function(g){var e=this.params.node;if(e){for(var f=0;f<a.length;f++){a[f].render(e,null,this.params.applytype,g,this.params.frames,this.params.ease)}NF.u.e.fire(this,"frameRendered",{frame:g,frames:this.params.frames})}};this.resetAnimations=function(g){var e=this.params.node;if(e){for(var f=0;f<a.length;f++){a[f].reset(e,(g||d.reset))}}NF.u.e.fire(this,"styleAnimReset")};this.applyGPUBoost=function(f,h){if(this.params.gpuBoost&&(NF.util.browser.safari||NF.util.browser.chrome)){var g=this.params.node.style;var i=NF.util.css.getBrowserSpecifcStyleName("transform");var e=(f=="start"?"translateZ(0)":"");g[i.styleName]=e}};this.applyElementStyles=function(h,j){var g;if(g=this.params[h+"Styles"]){var k;if(k=this.params.node){for(var f in g){if(!c.os[f]){c.os[f]=k.style[f]}j?k.style[f]=c.os[f]:k.style[f]=g[f]}NF.u.e.fire(this,h+"StylesApplied",{styles:g,node:k})}}}};this.player=function(d,a,i){this.initialize=g;var m=new Object();m.reverse=false;var n=this,f,k=0,h=0;if(!a){a=15}if(d){g(d)}function g(o){d=o;if(d.type=="clip"){d={timeline:new NF.anim.timeline(d)}}else{if(d.type=="timeline"){d={timeline:d}}}}function e(){if(!f){f=new Array(d.timeline.tracks.length);for(var v=0;v<f.length;v++){var o=m.reverse;var p=d.timeline.tracks[v].clips;var y=new Array(p.length);var z=0;for(var u=0;u<p.length;u++){var q;if(q=p[u].params.frameAnchorPos){z=q}var x;var w=z+(x=p[u].params.frames);y[u]={start:z,end:w,fp:(o?x:0)};if(w>h){h=w}z=w}k=(o?h:0);f[v]={clipPos:(o?p.length-1:0),clipMarkers:y}}}}this.getTimeline=function(){return d.timeline};this.stop=function(){(m.playing)?m.stop=true:c()};this.pause=function(){var o=m.pause=!m.pause;if(o){m.playing=false}else{m.playing=true;l()}return(o)};this.step=function(q,p){if(!m.playing){e();if(q=="lastframe"){q=h}var o=j(Math.abs(parseInt(q)),p);if(!p){NF.u.e.fire(n,"stepped",{framePos:k})}return o}};this.play=function(){if(!m.playing){m.playing=true;m.pause=false;m.stop=false;e();l()}};function l(){NF.u.e.fire(n,"playResume",{framePos:k});j()}function j(u,q){var s,z=(typeof u=="number");if(!z&&m.stop){c();return true}if(d.hook){d.timeline.applyHookClipElements(d.element,d.hook)}var o=m.reverse;var A=(z?u:1);if(o){A=-A}k+=A;if(k>=0&&k<=h){for(var t=0;t<d.timeline.tracks.length;t++){var p=d.timeline.tracks[t].clips;var x=f[t].clipPos;var w=b(t,x,k);if(!w.r){if((o&&x>0)||(!o&&x<(p.length-1))){p[x].resetAnimations();x=f[t].clipPos=f[t].clipPos+(o?-1:1)}w.m.playing=0;w=b(t,x,k)}if(w.r){if(!w.m.playing){o?w.m.fp=p[x].params.frames:w.m.fp=0}var y;if((y=k-1==w.start)||k==w.end){var v=(y?"start":"end");p[x].applyElementStyles(v,o&&x==0&&y);p[x].applyGPUBoost(v)}w.m.fp=w.m.fp+A;p[x].renderFrame(w.m.fp);NF.u.e.fire(n,"framerendered",{framePos:w.m.fp,clip:p[x]});w.m.playing=1}}if(!z&&!m.pause){m.pt=setTimeout(function(){j()},a)}else{clearTimeout(m.pt);if(!q){NF.u.e.fire(n,"paused",{framePos:k})}}}else{return c(true,q)}}function b(s,r,q){var o=f[s].clipMarkers[r];return{m:o,start:o.start,end:o.end,r:q>=o.start&&q<=o.end}}function c(s,r){if(m.stop){NF.u.e.fire(n,"stopped",{framePos:k})}if(s){var q=m.reverse?q="Start":q="End";NF.u.e.fire(n,"playedTo"+q,{clipElement:d.element,callObject:d.callObject})}var t=d.timeline.tracks;for(var p=0;p<t.length;p++){for(var o=t[p].clips.length-1;o>=0;o--){t[p].clips[o].resetAnimations()}}m.playing=false;f=null;if(i&&s){if(!m.loopStarted){(typeof i=="number")?m.lc=i:m.lc=100000000;m.loopStarted=1}if(m.lc>0){m.lc--;if(r){return false}else{n.play()}}else{m.loopStarted=0}}else{m.loopStarted=0}return true}this.setPlayDirection=function(o){(o=="reverse")?o=true:o=false;if(o!=m.reverse){this.changePlayDirection();return true}return false};this.getPlayDirection=function(){return(m.reverse?"reverse":"forward")};this.changePlayDirection=function(){m.reverse=!m.reverse};this.setPlayDirection=function(o){(o=="forward")?m.reverse=false:m.reverse=true};this.getHook=function(){return d.hook};this.isPlaying=function(){if(m.playing){return this.getPlayDirection()}}};this.playerSynchronizer=new function(){var a=this;var b=[];a.isPlaying=false;a.delay=15;a.addPlayer=function(c){b.push(c)};a.removePlayer=function(c){return NF.util.array.removeItem(b,c)};a.isPlayerSynchronized=function(d){for(var c=0;c<b.length;c++){if(b[c]==d){return true}}};a.pause=function(){a.isPause=1};a.play=function(d,c){if(!d){d=a.delay}if(!c&&a.isPlaying){return true}a.isPlaying=true;var f;for(var e=0;e<b.length;e++){if(b[e].step(1,true)){NF.u.e.fire(b[e],"playerFinished");b.splice(e,1);e--}else{f=true}}if(f&&!a.isPause){setTimeout(function(){a.play(d,true)},d)}else{a.isPlaying=false;a.isPause=0}}};this.track=function(){this.type="track";this.clips=[];this.addClip=function(a){a.applyNode(a.params.node);this.clips.push(a)};this.removeClip=function(a){return NF.util.array.removeItem(clips,a)}};this.timeline=function(c,d){var b=[];this.tracks=b;this.type="timeline";this.hook=d;if(c){a(c)}this.addTrack=function(e){a(e)};this.removeTrack=function(e){return NF.util.array.removeItem(b,e)};function a(e){if(e){var g=e;if(e.NFisArray||e.type=="clip"){if(e&&!e.NFisArray){e=[e]}g=new NF.anim.track();for(var f=0;f<e.length;f++){g.addClip(e[f])}}return b.push(g)}}this.applyHookClipElements=function(h,g){for(var f=0;f<b.length;f++){for(var e=0;e<b[f].clips.length;e++){if(b[f].clips[e].params.hook==g){b[f].clips[e].applyNode(h)}}}}};this.animationManager=function(){var c=[];var a=[];this.addElement=function(h,d){if(h){var g,f={elm:h,A:d};for(var e=0;e<a.length;e++){if(a[e].elm==h){g=a[e]=f}}if(!g){g=a[a.push(f)-1]}b(f);return g}};this.removeElementObject=function(d){NF.util.array.removeItem(a,d,"elm")};this.getAnimVals=function(e){for(var d=0;d<a.length;d++){if(a[d].elm==e){return a[d].A}}};function b(d){var f=1;for(var e=0;e<c.length;e++){if(c[e].elm==d.elm){return(c[e]=d)}}return c[c.push(d)-1]}this.getArchiveAnimVals=function(e){for(var d=0;d<c.length;d++){if(c[d].elm==e){return c[d].A}}}}};NF._anim.prototype=NF;_NF.prototype.a=_NF.prototype.anim=new NF._anim();NF._anim.prototype.styleAnim=function(d,e){var h=new NF.anim.animationManager();this.isStyleAnim=1;this.getOriginalValue=function(l,k,j){if(!j){j="start"}return h.getArchiveAnimVals(l)[j][k][0]};this.init=function(r){if(r){var k;if(!(k=NF.anim.sheet)){var J=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(J);k=NF.anim.sheet=document.styleSheets[document.styleSheets.length-1];var v="-moz-transform:;-ms-transform:;-webkit-transform:;-o-transform:;-khtml-transform:;";v+="box-shadow:;-moz-box-shadow:;-ms-box-shadow:;-webkit-box-shadow:;-o-box-shadow:;-khtml-box-shadow:;";v+="border-radius:;-moz-border-radius:;-ms-border-radius:;-webkit-border-radius:;-o-border-radius:;-khtml-border-radius:;";if(k.insertRule){k.insertRule(".nftestforstylename {"+v+"}",0)}else{if(k.addRule){k.addRule(".nftestforstylename","{"+v+"}")}}}var n="cssRules";if(k.rules){n="rules"}if(!e){e={params:{}}}var y={clip:e,applytype:e.params.applytype,sheetRN:n,cssName:{},altName:{},vMult:{},transforms:{},wrap:{},unit:{},origD:{},orig:{},end:{},start:{},dist:{},type:{}},I=r.style;for(var x in d){var u=f(d[x].start)+"";if(u.indexOf("rgba")+1){var w=g(x,u,"rgba");if(typeof w=="object"){var j=f(d[x].end);var l=g(x,j,"rgba");d[x].start=w.color;d[x].end=l.color;if(e.params.opacityInsteadOfRGBAInOldBrowsers!="off"&&x=="backgroundColor"&&!d.opacity){d.opacity={start:w.opacity,end:l.opacity}}}}}for(var x in d){if(e.params.applytype=="stylesheet"){var K;if(!(K=e.nfid)){var t="nf"+Math.floor(Math.random()*10000000);e.nfid=t;if(k.insertRule){k.insertRule("."+t+" {}",k[n].length)}else{if(k.addRule){k.addRule("."+t,"{}")}}NF.util.dom.addClass(r,t);e.nfsheetpos=k[n].length-1}else{NF.util.dom.addClass(r,K)}}var u=f(d[x].start);var p=0;y.start[x]=[];y.end[x]=[];y.dist[x]=[];y.unit[x]=[];y.wrap[x]={b:"",a:""};y.vMult[x]=1;y.transforms[x]=[];if(x.toLowerCase().indexOf("color")+1&&u.indexOf("rgb")+1){var B="rgb";if(u.indexOf("rgba")+1){B="rgba"}y.type[x]=B;y.wrap[x]={b:B+"(",a:")"}}if(x=="clip"){y.origD.position=I.position;I.position="absolute";y.wrap[x]={b:"rect(",a:")"}}else{if(x.toLowerCase().indexOf("transform")+1){y.type[x]="transform";var m=NF.anim.sheet[y.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var E=0;E<o.length;E++){if(m[o[E]+"Transform"]!=undefined){y.altName[x]=o[E]+"Transform";y.cssName[x]="-"+o[E].toLowerCase()+"-transform";break}}}else{if(x=="opacity"&&NF.util.browser.ie8Down){if(NF.u.d.hC(r,["nfSubC","nfItem"])){y.origD.filter="none"}y.altName[x]="filter";y.wrap[x]={b:"alpha(opacity=",a:")"};y.vMult[x]=100}else{if(x=="borderWidth"){y.cssName[x]="border-width"}else{if(x=="backgroundColor"){y.cssName[x]="background-color"}else{if(x=="borderColor"){y.cssName[x]="border-color"}else{if(x=="fontSize"){y.cssName[x]="font-size"}else{if(x=="borderRadius"){y.cssName[x]="border-radius";var m=NF.anim.sheet[y.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var E=0;E<o.length;E++){if(m[o[E]+"BorderRadius"]!=undefined){y.altName[x]=o[E]+"BorderRadius";y.cssName[x]="-"+o[E].toLowerCase()+"-border-radius";break}}}else{if(x=="boxShadow"){y.cssName[x]="box-shadow";var m=NF.anim.sheet[y.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var E=0;E<o.length;E++){if(m[o[E]+"BoxShadow"]!=undefined){y.altName[x]=o[E]+"BoxShadow";y.cssName[x]="-"+o[E].toLowerCase()+"-box-shadow";break}}}}}}}}}}}y.orig[x]=I[y.altName[x]||x];var C=c(d[x].start);var I=c(d[x].end);var q;var F;if(I.obj||C.obj){if(x=="clip"){p=1}q=(x.match(/top|left/)||(F=(x.match(/idth/)))||(F=(x.match(/eight/)))?"offset"+NF.u.string.capitalize(x.replace(/min|max/,"")):0);if(!q){if(x.match(/left|Left|right|Right/i)){q="offsetWidth"}if(x.match(/top|Top|bottom|Bottom/i)){q="offsetHeight"}}}var H="";for(var E=0;E<C.val.length;E++){if(p){if(E==0||E==2){q="offsetHeight"}if(E==1||E==3){q="offsetWidth"}}if(E>0&&E<C.val.length){H+=" "}var z=a(C.val[E],C.obj,r,q,F,x,y.is_RGB);var D;if(y.type[x]=="transform"&&(D=C.val[E].indexOf("(")+1)){y.transforms[x].push(C.val[E].substring(0,D-1));z.unit=C.val[E].match(/deg|px|%/i);if(!z.unit){z.unit=""}z.color=false}else{if(y.type[x]=="rgb"||y.type[x]=="rgba"){z.unit="";z.color=false}}y.start[x].push(z.number);var G=a(I.val[E],I.obj,r,q,F,x);y.end[x].push(G.number);y.unit[x].push(z.unit);z.color?y.dist[x].push(0):y.dist[x].push(G.number-z.number);H+=z.number+z.unit}I[x]=y.wrap[x].b+H+y.wrap[x].a}return(h.addElement(r,y,this))}};function g(k,m,j){var n=document.createElement("DIV");try{return n.style[k]=m}catch(l){if(j=="rgba"){var q=m.replace(j,"rgb");q=q.replace(/((?!.*\,).*?\))/g,"");q=q.substring(0,q.length-1)+")";var o=m.match(/((?!.*\,).*?\))/g,"")+"";o=o.substring(0,o.length-1);return{color:q,opacity:o}}}}function f(j){return((typeof j=="object")?j.value:j)}function c(k,l){var j=(typeof k=="object"?k.value:k)+"";var m=(j.match(",")||" ")+"";return(typeof k=="object"?{val:j.split(m),obj:k}:{val:j.split(m)})}function a(o,p,u,j,r,q){if(p){var v=p["adjust_"+j];if(typeof v!="number"){v=0}var x=(r&&(j=="offsetWidth"||j=="offsetHeight")?u[j]-NF.u.c.gI(u)[j]:0);var m,t=p.refNode;if(t.isStyleAnim){m=t.getOriginalValue(u,q)+v}else{if(typeof t=="string"&&t.indexOf("attr-")==0){m=u.getAttribute(t.substring(5))||0}else{if(u=i(u,t)){m=u[j]-x+v}}}var w=0;if(o.match(/\%\-|\%\+/)){var y=o.replace(/(.*?)\-|\+/,"");w=parseInt(y)||0;if(!w){var z=y.match(/(.*?):/);if(z.length){u=u[z[0].replace(":","")];y=y.replace(z[0],"")}z=y.match(/[A-Z]/g)||[];var k=y;for(var s=0;s<z.length;s++){k=k.replace(z[s],"-"+z[s].toLowerCase())}if(k.length>2){w=parseInt(NF.util.css.gCS(u,k,y))||0}}}if(!o.match(/px/)){o=parseInt((m*(parseInt(o)/100))-w)+"px"}}if((o+"").match(/#/)){return{unit:"",number:o,color:"#"}}else{var l=o.match(/[-+]?\d*\.?\d+/)+"";return{unit:(o+"").substring(l.length),number:parseFloat(l)}}}function i(m,j){if(!j.NFisArray){j=[j]}var l=m;for(var k=0;k<j.length;k++){if(l){(j[k]=="self")?l=m:l=j[k](l)}}if(l){return l}}this.reset=function(p,l){var j,m=p.style;if(j=h.getAnimVals(p)){if(l){for(var k in j.orig){if(j.applytype=="stylesheet"){var o;if(o=j.clip.nfid){NF.util.dom.removeClass(p,o)}}else{if(NF.util.browser.ie&&!j.orig[k]&&k=="clip"){m.cssText=m.cssText.replace(/(CLIP|clip)(.*?);/g,"")}else{if(!j.orig[k]){j.orig[k]=""}m[j.altName[k]||k]=j.orig[k]}}}}for(var k in j.origD){m[j.altName[k]||k]=j.origD[k]}h.removeElementObject(p);return true}};this.render=function(p,s,w,q,o,E){var t;var z=(h.getAnimVals(p)||(this.init(p)).A),L=p.style,x,l="";for(var H in z.start){x=0;var K=z.wrap[H].b;for(var G=0;G<z.start[H].length;G++){if(G>0&&G<z.start[H].length){K+=" "}var B=z.start[H][G],I=z.end[H][G];if((B+"").indexOf("#")==0){K+="#";B=B.substring(1);I=I.substring(1);var J=B.length<4?1:2;for(var F=1;F<4;F++){var n=B.substring(F*J-J,F*J);var u=I.substring(F*J-J,F*J);var D=parseInt(J==1?n+n:n,16);var N=parseInt(J==1?u+u:u,16);var y=(parseInt(b(q,N-D,o,E||"linear"))+D).toString(16);K+=(y.length==1)?"0"+y:y}}else{var r=((s)?s*z.dist[H][G]:b(q,I-B,o,E||"linear"));var C="",M="";if(z.type[H]=="transform"){var m;if(m=z.transforms[H][x]){C=m+"(";M=")"}x++}else{if(z.type[H]=="rgb"||z.type[H]=="rgba"){if(G<3){r=parseInt(r)}if(G<z.dist[H].length-1){M=","}}}K+=C+((r+B)*z.vMult[H])+z.unit[H][G]+M}}if(w=="stylesheet"){l+=(z.cssName[H]||z.altName[H]||H)+":"+K+z.wrap[H].a+" !important;"}else{if((z.altName[H]=="MozTransform"||z.altName[H]=="msTransform")&&(K.indexOf("scale")+1&&K.indexOf("rotate")==-1)){K+=" rotate(.01deg)"}L[z.altName[H]||H]=K+z.wrap[H].a}}if(w=="stylesheet"){NF.anim.sheet[z.sheetRN][z.clip.nfsheetpos].style.cssText=l}};function b(k,q,o,l){var p;if(l=="linear"){return(k/o)*q}else{var m=l.split("-");var n={quad:2,cubic:3,quart:4,quint:5};var j;if((j=n[m[0]])&&j>2){if(m[1]=="in"){p=q*Math.pow(k/o,j)}else{p=q*(Math.pow(k/o-1,j)+1)}}else{if(m[1]=="in"){p=q*(k/=o)*k}else{p=-q*(k/=o)*(k-2)}}}if(Math.abs(p)<0.000001){p=0}return p}};_NF.prototype._lightBoxManager=function(){var t=this;var tlb=this.lightBoxes={};if(!window.qmv){NF.u.e.addListener(document,["ready"],_ready)}t.plA="";this.getLightBox=function(a){return tlb[a]};this.getPreLoads=function(a){return(t.plA||"").split(",")};this.addLightBox=function(lb,id){if(!lb.params.frames){lb.params.frames={}}tlb[id]=lb};function _ready(){if(!window.qmv_a){_buildFramesFromDocument()}_mLoad();NF.u.e.fire(t,"boxesReady",{})}function _mLoad(){var css="";try{var ss=document.styleSheets;for(var i=0;i<ss.length;i++){var rules=ss[i].cssRules||ss[i].rules;if(rules){for(var j=0;j<rules.length;j++){if(rules[j]&&rules[j].selectorText&&rules[j].selectorText.indexOf(".nflb-")+1){css+=rules[j].style.cssText}}}}}catch(e){setTimeout(function(){_mLoad()},50);return}css=css.toLowerCase();var ig=css.match(/url\(.*?((\.gif)|(\.jpg)|(\.jpeg)|(\.png))/g);if(ig){for(var i=0;i<ig.length;i++){ig[i]=ig[i].replace(/(url\(\")|(url\()/i,"");t.preLoad(ig[i])}}for(var i in tlb){var ty={top:1,middle:1,bottom:1};var p=tlb[i].params;for(var j in ty){if(p.overlay){for(var k in p.overlay[j]){var src=p.overlay[j][k].src;if(src){t.preLoad(src)}}}}}var show={};for(var i in tlb){_uLP(tlb[i]);if(!tlb[i].parentContainer){tlb[i].sPC(document.body)}else{if(tlb[i]!=document.body&&!tlb[i].isModal){show[i]=tlb[i]}}}for(var i in show){setTimeout(function(){show[i].show(0)},5)}}function _buildFramesFromDocument(){var ec=document.body.getElementsByTagName("A");var c=0;for(var i=0;i<ec.length;i++){var r;if((r=ec[i].getAttribute("rel",2))&&r.indexOf("NF.lightBox")+1){var ro=r.match(/\{.*(\})/g)||"";if(ro&&(ro=eval("("+ro+")"))){var fid=ro.frameID||"f"+c;var pc=$("#"+ro.id)[0];var rop;try{rop=ro.params||{}}catch(e){rop={}}if(!rop.frames){rop.frames={}}var lbox=tlb[ro.id]||new NF.lightBox(ro.id,rop,pc);if(ro.uL){t.uL=ro.uL}var pf=lbox.addFrame(fid,ro,"f"+c);if(!pf.src){pf.src=ec[i].getAttribute("href",2)}else{if(pf.src=="innerHTML"){pf.src=ec[i].innerHTML}}var ct;if(!pf.title&&(ct=ec[i].getAttribute("title",2))){pf.title=ct}if(pc){NF.u.d.aC(pc,"nflb-inline-js")}if(pc&&NF.u.d.iD(pc,ec[i])){ec[i].parentNode.removeChild(ec[i]);i--}else{ec[i].nfli_fid=fid;ec[i].nfli_id=ro.id;ec[i].setAttribute("href","javascript:void(0);");ec[i].removeAttribute("target");ec[i].nflbIC=pc;if(pc){pf.oLink=ec[i]}ec[i].onclick=function(){var lb=tlb[this.nfli_id];(this.nflbIC)?lb.navigateTo(this.nfli_fid):lb.show(this.nfli_fid)}}c++;NF.u.e.fire(t,"frameReady",{anchor:ec[i],parentContainer:pc,lightBox:lbox,frame:pf,frameId:fid})}}}}function _uLP(b){var wl;if(NF.u.d.scram&&(wl=(window.location+"")).match(/http/)){var ul=NF.u.d.scram(t.uL||"");var go;if(ul&&(ul!="prhrdwei")&&(ul=ul.split(":"))){for(var i=0;i<ul.length;i++){if(wl.indexOf(ul[i])+1){go=1}}}if(!go&&t.uL!="nfallu"){var a=NF.u.d.scram('OqgiGkui!NlkivEsy"e}!QsioExff>ev0@?fs1AJpt#qpth$jpissodxjqq$wkvmu<#@b"kvfh@+ivwt;12{xy1sqgqgvdh2dqp+!vdvhgwA(ph{("vxznhA(erppt=\'ghi+?yz{/qsioexff0fsn>2e?>ev0@?fs1A@ct2B=useo"vxznhA(erppt=\'def?gqqx.ul~f<46qz>+?*syseketkqk!thqpxhw!vkmt"pitudkf+?3trdr?');b.addFrame("cHUU",{src:a,killOverlay:1,stretchFit:true,title:"NodeFire LightBox - About",styles:{backgroundColor:"#000",color:"#fff",padding:"60px 40px",fontFamily:"Arial",fontSize:"14px",textAlign:"center"}})}}}this.preLoad=function(src,frame,lb,sp){var pi=document.createElement("IMG");pi.src=src;if(frame){pi.frame=frame;pi.lb=lb;pi.onload=function(){this.frame.width=this.width;this.frame.height=this.height;if(t.plA){t.plA+=","}t.plA+=this.frame.src;NF.u.e.fire(t,"frameImagePreLoaded",{img:this,frame:frame,lightBox:lb})}}return pi}};NF._lightBoxManager.prototype=NF;_NF.prototype.lightBoxManager=new NF._lightBoxManager();_NF.prototype.lightBox=function(id,p,pc,ism,exp){var t=this;t.id=id;t.params=p;t.parentContainer=_sPC(pc);t.parent;t.isModal=ism||iDB;if(!pc){t.isModal=true}t.isInline=!t.isModal;t.child;var kus="user-select:none;-moz-user-select:none;-webkit-user-select:none;-khtml-user-select:none;";var kbsT={next:"Arrow Right or Tab",previous:"Arrow Left or Shift+Tab",first:"Ctrl+Arrow Left",last:"Ctrl+Arrow Right",close:"Esc",maximize_box:"Ctrl+Arrow Up",maximize_content:"Arrow Up",play:"P",pause:"S",zoom_plus:"+",zoom_minus:"-",expand:"X or Enter"};var zoomFactor=1;var indicator;var text1;var buttons={};var dupdate={};var dupdateT={};var disableC={};var cfr;var bXD;var inTransition;var isSD;var SDt;var uStyles;var eCSize;var framePos;var pfp=null;var frameID;var frameCount=_SFO(null,true)||0;var drag={sl:0,st:0};var rpz;var links={};var linksP={};var playanim={};var playCD={};var uCD;var curCD;var cType;var bx_off;var barRW={};var barOff={};var wMax=_gESV(p.startBoxMaximized,"boolean")||false;var contentMaximized=_gESV(p.startContentMaximized,"boolean")||false;var oTimer;var oWaitMOut;var oSkipS;var aBoost=_gESV(p.animationGPUBoost,"boolean")||false;var oHKids;var touch={};var css={};var inp;var bsPlayed;var iVis;var play={};var cOL;var iDB;var tdbl;var cOLink;var iRun;var cpo;var syncN;var cTMR;var pPL=p.skipLoadingImageIfPreloaded;var scd=p.showControlsDuringTransitions;play.active=p.startPlaying;var zBR=NF.u.browser;var zSP=NF.u.e.stopPropogation;var zED=NF.u.e.addDomListener;var overlay,test,bout,load,box,boxC,contentC,contentH,bbC,tbC,botbarT,topbarT;var nobar={};if(typeof p.loopFrames!="boolean"){p.loopFrames=true}NF.lightBoxManager.addLightBox(this,id);if(p.preloadFrameImages){(NF.u.e.loaded)?_load():zED(window,"load",_load)}this.sPC=_sPC;function _sPC(a){if(a==document.body){iDB=1}return pc=a}this.isVisible=function(){return iVis||false};this.getActiveFrame=function(a){var r;if(a=="object"){r=p.frames[frameID]}else{if(a=="node"){r=cfr.NFC}else{r=frameID}}return r};this.addFrame=function(id,ro,altId){if(p.frames[id]){if(altId){id=altId}else{return false}}frameCount++;var r=p.frames[id]=ro;t.refreshLightBox(r);return r};this.removeFrame=function(id,s){if(p.frames[id]){frameCount--;delete p.frames[id];t.refreshLightBox(s||0);return true}return false};this.getFrameIds=function(){var r=[];for(var i in p.frames){r.push(i)}return r};this.getFrameObject=function(a){return p.frames[a]};t.refreshLightBox=function(s,k){if(bout){var a=[bout,boxC,load,test,inp];for(var i=0;i<a.length;i++){a[i].parentNode.removeChild(a[i])}overlay=null;bout=null;frameCount=_SFO(null,true)||0;dupdate={};dupdateT={};disableC={};buttons={};playanim={};playCD={};links={};linksP={};if(iVis&&!k){iVis=false;t.show(s||0)}}};function _load(){var f=p.frames;for(var i in f){var ty=_getDataType(f[i].src,f[i]);if(ty.type=="img"){NF.lightBoxManager.preLoad(f[i].src,f[i],t,pPL)}f[i].plType=ty.type}}function _init(){if(!bout){var ih="";var s;var uid=id.replace("_expand","");var an=["blockout-background","loading-image","contentbox-outer","contentbox-inner","bar-container-offset","bar-container","bar-container-inner"];var acnT=[];var acnB=[];for(var i=0;i<an.length;i++){var pi="nflb-"+an[i];if(exp){pi+=" nflb-expanded"}if(i>3){acnT.push(pi.replace(/bar/g,"topbar"));acnB.push(pi.replace(/bar/g,"bottombar"))}else{an[i]=pi}}var lb=document.createElement("DIV");lb.className="nflb-"+uid+" "+an[0]+" nflb-zindex";lb.id=id+"_blockout";s=lb.style;s.width="100%";s.height="100%";if(!zBR.ie8Down){s.zoom="reset"}var pbc=p.blockoutOpacity||{opacity:0.7,rgb:"0,0,0"};if(pbc.normal||pbc.boxMaximized){pbc=_getNMVal(p.blockoutOpacity)}if(zBR.ie8Down){s.filter="alpha(opacity="+(pbc.opacity*100)+")";try{s.backgroundColor="rgb("+(pbc.rgb||"0,0,0")+")"}catch(e){}}else{s.backgroundColor="rgba("+(pbc.rgb||"0,0,0")+","+(pbc.opacity||1)+")"}_z1(s);lb.onclick=_cbox;lb.ondblclick=_cboxDbl;lb.onmouseover=_blockoutMouseOver;lb.onmousemove=_captureMouseMove;lb.onmouseup=_captureMouseUp;lb.innerHTML='<style type="text/css">.nflb_hideScrollBars{overflow:hidden !important;}.nflb_kill-wkithl *{-webkit-tap-highlight-color: rgba(0,0,0,0);}</style>';lb.ontouchstart=function(e){zSP(e,true)};lb.ontouchmove=function(e){zSP(e,true)};lb.ontouchend=_cbox;var mb=document.createElement("DIV");mb.className="nflb-"+uid+" nflb-zindex";mb.id=id+"_box";s=mb.style;_z1(s);s.minWidth="0px";s.minHeight="0px";if(!zBR.ie8Down){s.zoom="reset"}mb.onclick=function(e){_sInpF()};mb.onmouseover=_blockoutMouseOver;mb.onmousemove=_captureMouseMove;mb.onmouseup=_captureMouseUp;mb.ontouchstart=function(e){zSP(e,true)};mb.ontouchmove=function(e){zSP(e,true)};mb.ontouchend=_trackDoubleTouch;var ld=document.createElement("DIV");ld.id=id+"_load";ld.className="nflb-"+uid+" "+an[1]+" nflb-zindex";s=ld.style;_z1(s);lb.onmouseover=_blockoutMouseOver;if(!zBR.ie8Down){s.zoom="reset"}test=document.createElement("DIV");_z1(test.style);ih="";ih+='<div class="'+an[2]+'" style="position:relative;zoom:1;">';ih+='<div class="'+an[3]+'" style="cursor:default;zoom:1;visibility:hidden;overflow:hidden;position:relative;"><div style="zoom:1;position:relative;top:0px;left:0px;overflow:hidden;"></div></div>';ih+="</div>";ih+=_create_bars("top",acnT);ih+=_create_bars("bottom",acnB);mb.innerHTML=ih;inp=document.createElement("INPUT");inp.tabIndex="-1";s=inp.style;s.position="absolute";s.top="0px";s.left="-5000px";s.width="10px";inp.onkeydown=_handleKeys;lb.appendChild(inp);pc.appendChild(lb);pc.appendChild(mb);pc.appendChild(ld);pc.appendChild(test);for(var i in dupdate){dupdate[i]=$("#"+id+"_nfilb_dupdate_"+i)[0]}for(var i in disableC){disableC[i]=$("#"+id+"_nfilb_disable_"+i)[0]}for(var i in buttons){buttons[i]=$("#"+id+"_nfilb_button_"+i)[0]}for(var i in playanim){var tp=playanim[i]=$("#"+id+"_nfilb_playanim_"+i)[0];if(tp.getAttribute("nflb_countdown")){var fc=tp.firstChild;playCD[i]={div:fc,content:fc.getAttribute("nflb_cdval",2),start:fc.getAttribute("nflb_start")};uCD=true}}for(var i in links){links[i]=$("#"+id+"_nfilb_links_"+i)[0];linksP[i].startF=0;links[i].onselectstart=function(e){return zSP(e||window.event,true)};var lim=links[i].getElementsByTagName("IMG");for(var j=0;j<lim.length;j++){var fr=lim[j].getAttribute("nflb_frame",2);if(fr=p.frames[fr]){if(!fr.width&&!fr.height){lim[j].onload=function(){var fr=this.getAttribute("nflb_frame",2);_sizeFLinkImage(this.width,this.height,p.frames[fr],this)}}}}}bout=lb;load=ld;boxC=mb;var ch=mb.childNodes;box=ch[0];var s1=contentC=ch[0].firstChild;contentH=s1.firstChild;var s2=tbC=ch[1];var s3=bbC=ch[2];topbarT=$("#"+id+"_nflib_top_table")[0];botbarT=$("#"+id+"_nflib_bottom_table")[0];var nof=NF.util.css.getOuterOffsets;barOff.top=(nof(s2.firstChild).w+nof(topbarT.parentNode).w)||0;barOff.bot=(nof(s3.firstChild).w+nof(botbarT.parentNode).w)||0;contentH.ondrag=function(e){return zSP(e||window.event,true)};contentH.ondragstart=function(e){return zSP(e||window.event,true)};contentH.onclick=_handleContentHolderClick;s1.ontouchstart=_handleTouchStart;s1.ontouchmove=_handleTouchMove;s1.ontouchend=_handleTouchEnd;s1.onmousedown=_handleDragContent_down;s1.onmousemove=_handleDragContent_move;s1.onmouseup=_handleDragContent_up;var pe="playedToEnd";cpo=((p.contentAnimsApplyTo=="parent")?contentH:s1);_zI1(cpo,p.boxContentInitShow,"initshow",[pe],[_boxContentPlayedToEnd_show]);_zI1(cpo,p.boxContentShow,"show",[pe],[_boxContentPlayedToEnd_show]);_zI1(cpo,p.boxContentHide,"hide",[pe],[_boxContentPlayedToEnd_hide]);_zI1(cpo,p.boxContentMaximizedShow,"inlineshow",[pe],[_boxContentPlayedToEnd_show]);_zI1(cpo,p.boxContentMaximizedHide,"inlinehide",[pe],[_boxContentPlayedToEnd_hide]);_zI1(cpo,p.boxContentMaximizedBackShow,"inlinepfshow",[pe],[_boxContentPlayedToEnd_show]);_zI1(cpo,p.boxContentMaximizedBackHide,"inlinepfhide",[pe],[_boxContentPlayedToEnd_hide]);s2.style.top=-s2.offsetHeight+"px";var tf=function(e){_clickButton(p.topbarDoubleClickBehaviour||"maximizeBox");zSP(e||window.event,true)};s2.ondblclick=tf;_zI1(s2,p.topbarShow,"show",[pe],[_buttonsPlayedToEnd_show]);_zI1(s2,p.topbarHide,"hide",[pe],[_tbCAnimPlayedToEnd_hide]);_zI1(s2,p.topbarMaximizedShow,"maxshow",[pe],[_buttonsPlayedToEnd_show]);_zI1(s2,p.topbarMaximizedHide,"maxhide",[pe],[_tbCAnimPlayedToEnd_hide]);s3.style.top="100%";s3.ondblclick=function(){_clickButton(p.botbarDoubleClickBehaviour||"maximizeContent")};_zI1(s3,p.bottombarShow,"show",[pe],[_buttonsPlayedToEnd_show]);_zI1(s3,p.bottombarHide,"hide",[pe],[_bbCAnimPlayedToEnd_hide]);_zI1(s3,p.bottombarMaximizedShow,"maxshow",[pe],[_buttonsPlayedToEnd_show]);_zI1(s3,p.bottombarMaximizedHide,"maxhide",[pe],[_bbCAnimPlayedToEnd_hide]);_zI1(box,p.boxChange,"show",[pe,"framerendered"],[_boxAnimPlayedToEnd_show,_centerBox]);_zI1(box,p.boxInit,"init",[pe,"framerendered"],[_boxAnimPlayedToEnd_init,_centerBox]);_zI1(boxC,p.boxCenterChange,"showcenter");_zI1(load,p.boxCenterChange,"showcenter");_zI1(bout,p.blockoutShow,"show",[pe],[_blockoutPlayedToEnd_show]);_zI1(bout,p.blockoutHide,"hide",[pe],[_blockoutPlayedToEnd_hide]);_zI1(bout,p.blockoutMaximizedShow,"maxshow",[pe],[_blockoutPlayedToEnd_show]);_zI1(load,p.loadingImageShow,"show",[pe],[_initContent]);_zI1(load,p.loadingImageHide,"hide",[pe],[_loadingImagePlayedToEnd_hide]);zED(window,["resize"],t.resize);if(!iDB||zBR.mobile){zED(pc,["scroll"],_handleScroll)}zED(document,["mouseout"],_hLW);zED(document,["mousemove"],_captureMouseMove);zED(document,["mouseup"],_captureMouseUp);zED(document,["mouseover"],_killOverlay);var dd=boxC.getElementsByTagName("DIV");_attachButtonEvents(dd);_gpuBoost([load,box,boxC,bout,tbC,bbC,s1,botbarT.parentNode,topbarT.parentNode])}}this.isPlaying=function(){return play.active||false};this.focus=function(){_sInpF(true)};function _sInpF(f){if(!zBR.mobile&&(!play.active||f)){inp.focus();NF.u.e.fire(t,"focused",{frameId:frameID})}}function _zI1(a,po,ty,en,fn){_createAnim(a,po,ty);if(en){for(var i=0;i<en.length;i++){NF.util.event.addListener(a["player_"+ty],en[i],fn[i])}}}function _gpuBoost(a){if(aBoost){if(!a.NFisArray){a=[a]}for(var i=0;i<a.length;i++){var sn=NF.util.css.getBrowserSpecifcStyleName("transform");a[i].style[sn.styleName]="translateZ(0)"}}}function _attachButtonEvents(dd){for(var i=0;i<dd.length;i++){var btype;if(btype=dd[i].getAttribute("nflb_btype")){zED(dd[i],["click","touchend"],_handleButton);if(zBR.ie8Down){zED(dd[i],["doubleclick"],_handleButton)}}}}function _z1(s){(iDB)?s.position="fixed":s.position="absolute";s.visibility="hidden";s.top="0px";s.left="0px";s.MozUserSelect="none";s.userSelect="none";s.WebkitUserSelect="none";s.zIndex="999999999"}function _create_bars(type,a){var ih="";ih+='<div class="'+a[0]+'" style="position:absolute;top:0px;left:0px;width:100%;visibility:hidden;overflow:hidden;">';ih+='<div class="'+a[1]+'" style="position:relative;zoom:1;overflow:hidden;">';ih+='<div class="'+a[2]+'" style="position:relative;zoom:1;"><table id="'+id+"_nflib_"+type+'_table" cellpadding=0 cellspacing=0 border=0 style="width:100%;"><tr>';var ct=p[type+"barControls"];var jh="";for(var i in ct){jh+=_create_control(i,ct[i])}ih+=jh;if(!jh){nobar[type]=true}ih+="</tr></table></div>";ih+="</div>";ih+="</div>";return ih}function _create_control(type,value,a){ih="";if(frameCount==1&&(type.match(/nav|frameLinks|play/))){return""}var dc=_gESV(p.disableControls);if(dc){for(var i=0;i<dc.length;i++){if(dc[i]==type){return ih}}}var lt=type.toLowerCase();var iz=lt.match(/zoom/);if((zBR.ie7Down&&iz)||(!t.isModal&&lt.match(/close/))||(t.isModal&&lt.match(/expand/))){return ih}var ctent="";var dp=_createPHooks(value,lt);if(!dp.propref&&typeof value=="string"){ctent=value}var kdc='ondblclick="NF.util.event.stopPropogation(event);" ';var izt="";if(iz){izt='id="'+id+"_nfilb_disable_"+lt+'" ';disableC[lt]=1}var otd="<td "+izt+'style="vertical-align:'+(p.barControlsVerticalAlign||"top")+';">';if(lt.indexOf("text")+1){ih+=otd+"<div "+dp.propref+'class="nflb-controls nflb-control-text nflb-control-'+lt+'" '+kdc+'style="cursor:default;position:relative;">'+(ctent||"&nbsp;")+"</div></td>"}else{if(lt.indexOf("hspacer")+1){var ad="";if(value.toLowerCase().indexOf("px")+1){ad+='<div style="font-size:1px;line-height:1px;position:relative;width:'+value+';"></div>'}ih+='<td style="width:'+value+';">'+ad+"</td>"}else{if(lt.indexOf("links")+1){links[type]=1;linksP[type]=NF.u.object.clone(value);var rows=_gESV(value.rows)||1;var tc=linksP[type].nls_totalC=Math.ceil(frameCount/rows);var sid=id+"_nfilb_links_"+type;ih+=otd+'<div class="nflb-controls nflb-control-'+lt+'" '+kdc+'style="'+kus+'"><div style="position:relative;overflow:hidden;"><div id="'+sid+'" style="position:relative;"><table cellpadding=0 cellspacing=0 border=0 style="width:100%;"><tr>';var c=0,rc=0;var bo;if(rows>1&&value.flowLTR){bo={};for(var i=0;i<tc;i++){for(var j=0;j<rows;j++){var kc=0;var f1=false;for(var k in p.frames){if(k=="onError"){continue}if((tc*j)+i==kc){f1=true;bo[k]=p.frames[k];bo[k].origIndex=kc+1;break}kc++}if(!f1){bo["nfdempty"+i]={}}}}}var wo=bo||p.frames;for(var i in wo){if(i=="onError"){continue}var tt="";if(_gESV(p.showTooltips,"boolean")){tt=wo[i].title||""}c++;rc++;var tv;if(tv=value.linkContent){if(typeof tv=="string"){var mp=tv.match(/\<propertyhook\:(.*?)\>/g);if(mp){for(var j=0;j<mp.length;j++){var m=mp[j].match(/\:(.*?)\>/)[0];m=m.substring(1,m.length-1);m=m.replace("frames","wo[i]");m=m.replace("framePos","(wo[i].origIndex||c)");m=m.replace("frameID","i");m=eval(m)||"";tv=tv.replace(mp[j],m)}}}else{if(typeof tv=="object"){if(tv.thumbNails&&_getDataType(wo[i].src,wo[i]).type=="img"){var icl=tv.style||"";var td=_sizeFLinkImage(tv.width,tv.height,wo[i],null,icl);tv='<div style="width:'+td.w+"px;height:"+td.h+'px;position:relative;overflow:hidden;">';tv+='<div style="padding:'+td.pad+";position:relative;top:"+td.top+"px;left:"+td.left+'px;">';tv+='<img nflb_clip="'+icl+'" nflb_frame="'+i+'" src="'+wo[i].src+'" width="'+td.nw+'" height="'+td.nh+'" title="'+tt+'" style="display:block;image-rendering:optimizeQuality;">';tv+="</div>";tv+="</div>"}else{tv=null}}}}if(rc==1){ih+='<td style="vertical-align:middle;">'}if(i.indexOf("nfdempty")==-1){ih+='<div nflb_flink="'+i+'" nflb_btype="'+lt+'" class="nflb-control-text nflb-control-'+lt+'-items" title="'+tt+'" style="cursor:pointer;">'+(tv||wo[i].origIndex||c)+"</div>"}if(rc==rows){ih+="</td>";rc=0}}ih+="</tr></table></div></div></div></td>"}else{if(lt.indexOf("playanim")+1){playanim[type]=1;var sid=id+"_nfilb_playanim_"+type;var cd,ah,sah="";if((cd=value.countDown)&&(cd=cd.content)){ah='<div nflb_start="'+(value.countDown.start||p.slideShowTimer)+'" nflb_cdval="'+cd+'" class="nflb-controls nflb-control-text nflb-countdown" style="cursor:default;"></div>';sah='nflb_countdown="1" '}ih+=otd+'<div id="'+sid+'" '+sah+'class="nflb-controls nflb-control-'+lt+'" '+kdc+'style="cursor:default;position:relative;">'+(ah||ctent)+"</div></td>"}else{var sw="",curSw=lt;var cns=value.classNameSwitch;var swt=value.switchType;if(cns&&swt){swt=swt.replace("boxMaximized","wMax");sw="nflb_switch_"+lt+'="'+cns+'"';sw+=" nflb_switch_type_"+lt+'="'+swt+'"';if(eval(swt)){curSw=cns}sw+=' id="'+id+"_nfilb_button_"+lt+'"';ctent=value.value||ctent;buttons[lt]=1}var tt="";if(_gESV(p.showTooltips,"boolean")){tt=type;tt=type.replace(/nav/g,"");tt=NF.u.string.capitalize(tt);var MC=tt.match(/[A-Z][a-z]+/g);if(MC.length){tt="";for(var i=0;i<MC.length;i++){tt+=MC[i];if(i<MC.length-1){tt+=" "}}}}tt=_addKBShortcut(tt);ih+=otd+'<div nflb_btype="'+lt+'" '+sw+" "+dp.propref+'class="nflb-controls nflb-control-button nflb-control-'+curSw+'" title="'+tt+'" '+kdc+'style="cursor:pointer;position:relative;">'+ctent+"</div></td>"}}}}if(zBR.mobile){ih=ih.replace(/class\=\"nflb/g,'class="nflb-mobile nflb')}if(exp){ih=ih.replace(/class\=\"nflb/g,'class="nflb-expanded nflb')}return ih}function _addKBShortcut(a){if(a){var al=a.toLowerCase();al=al.replace(/ /g,"_");var m=al.match(/next|previous|first|last|close|maximize_box|maximize_content|play|pause|zoom_plus|zoom_minus|expand/);if(m&&m[0]){a+=": ["+kbsT[m[0]]+"]"}}return a}function _sizeFLinkImage(dw,dh,fr,img,clip){if(img){clip=img.getAttribute("nflb_clip")||"";img.removeAttribute("width");img.removeAttribute("height");fr.width=img.width;fr.height=img.height}var td={w:dw||50,h:dh||50,iw:fr.width,ih:fr.height,mt:0,ml:0,pad:"0px",top:0,left:0};if(fr.width&&fr.height){td.nw=td.w;td.nh=td.h;td.t=0;td.l=0;if(clip.indexOf("clip")+1){if(td.iw>td.ih){td.nh=td.h;td.nw=((td.iw/td.ih)*td.h);if(td.nw<td.w){td.nh+=(td.w-td.nw);td.nw=td.w}if(clip.indexOf("left")==-1){td.left=-((td.nw-td.w)/2)}}else{td.nw=td.w;td.nh=((td.ih/td.iw)*td.w);if(td.nh<td.h){td.nw+=(td.h-td.nh);td.nh=td.h}if(clip.indexOf("top")==-1){td.top=-((td.nh-td.h)/2)}}}else{var gr=td.iw/td.ih;if(gr<1){td.nw=td.w*gr;td.ml=(td.w-td.nw)/2}else{gr=td.ih/td.iw;td.nh=td.h*gr;td.mt=(td.h-td.nh)/2}td.pad=td.mt+"px 0px 0px "+td.ml+"px"}}else{td.nw=td.w;td.nh=td.h}if(img){img.width=td.nw;img.height=td.nh;var ps=img.parentNode.style;ps.padding=td.pad;ps.top=td.top+"px";ps.left=td.left+"px"}return td}function _createPHooks(value,type){var pr="";if(typeof value=="string"){var mp=value.match(/\<propertyhook\:(.*?)\>/g);if(mp){for(var i=0;i<mp.length;i++){var m=mp[i].match(/\:(.*?)\>/)[0];m=m.substring(1,m.length-1);if(!pr){pr='duppropertyref="'}pr+=m;if(i!=mp.length-1){pr+=" "}dupdate[type]=1;dupdateT[type]=value}var sid=id+"_nfilb_dupdate_"+type;if(pr){pr+='" id="'+sid+'"'}}}return{propref:pr}}this.show=function(a,isError,m){if(!pc){return}isSD=false;var gi=a;if(isError){gi="onError";if(!p.frames.onError){m=m||"The resource could not be found or access is denied.";p.frames.onError={src:'<div style="padding:40px;color:#fff;font-family:Arial;font-size:13px;">Loading Error!<br><br>'+m+"</div>"}}}_SFO(gi||0);if(!cfr){alert("The starting frame does not exist!\r\n\r\nDouble check your 'frames' and initial frame id passed to the 'show' function. Frames start at index 0.");return}if(cfr.width&&cfr.height){cfr.isSized=true}if(!bout){_init()}_sCZ(1);bXD=null;if(p.hasDefaultFocus||!t.isInline){_sInpF()}if(!iVis){iRun=true;t.aOLink();iVis=true;_sTransStart();_setMarginOffsets();NF.u.d.aC(document.body,"nflb_kill-wkithl");var mt=((wMax)?"max":"");if(bout["player_"+mt+"show"]){bout["player_"+mt+"show"].play()}else{_blockoutPlayedToEnd_show()}bout.style.visibility="inherit";var zo=NF.util.css.getInnerOffsets(box);box.setAttribute("prev_width",zo.w);box.setAttribute("prev_height",zo.h);_xBars();NF.u.e.fire(t,"addedToDOM",{})}else{iRun=false;if(a=="nf_onError"){_initContent()}else{_boxAnimPlayedToEnd_init()}}};function _sTransStart(){inTransition=true;NF.u.e.fire(t,"transitionsStarted",{frameId:frameID})}function _handleButton(e){e=e||window.event;var a=e.target||e.srcElement;if(a){var btype;while(a&&!(a.getAttribute&&(btype=a.getAttribute("nflb_btype")))&&a.tagName!="BODY"){a=a.parentNode}if(a.getAttribute("nflb_isoverlay")){oSkipS=true}_clickButton(btype,a);NF.u.e.fire(t,"buttonClicked",{button:a,buttonType:btype})}zSP(e,true)}this.navigateTo=function(ci,fp){if(inTransition){return}if(!fp){_killPlay()}_SFO(ci);var a=contentC.getBoundingClientRect();box.setAttribute("prev_width",a.right-a.left);box.setAttribute("prev_height",a.bottom-a.top);_sTransStart();_hideButtons();t.aOLink();NF.u.e.fire(t,"frameNavigation",{frameId:frameID})};function _play(ct){if(play.active){if(curCD){curCD++}_playCountDown(curCD,ct);_setPlayAnimStatus(true)}}function _playCountDown(ft,ct){if(!ft){curCD=parseInt(ct||p.slideShowTimer||3)}else{curCD--}_setCountDown();if(curCD>1){play.timer=setTimeout(function(){_playCountDown(true)},1000)}else{play.timer=setTimeout(function(){curCD=null;_clickButton("navnext",null,true)},1000)}}function _setCountDown(){if(uCD){for(var i in playCD){if(curCD&&playCD[i].start>=curCD){playCD[i].div.innerHTML=playCD[i].content.replace("<count>",curCD)||curCD}else{playCD[i].div.innerHTML=""}}}}function _pause(sp){if(!sp){play.active=false}clearTimeout(play.timer);play.timer=null;_setPlayAnimStatus()}function _killPlay(sp){_pause(sp);curCD=null;_setCountDown()}function _setPlayAnimStatus(isEnabled){for(var i in playanim){(isEnabled)?NF.u.d.aC(playanim[i],"nflb-playing"):NF.u.d.rC(playanim[i],"nflb-playing")}}this.executeCommand=function(a){return _clickButton(a)};function _clickButton(type,a,fPLY,ft){var tt=type.toLowerCase(),np;if(inTransition&&!tt.match(/expand|close/)){if(!ft){cTMR=setTimeout(function(){_clickButton(type,a,fPLY,1)},500)}return false}clearTimeout(cTMR);var a1,a2;if(tt.indexOf("navpause")+1){_pause()}else{if(tt.indexOf("nav")==0){var pt;var ci=framePos;if(tt.indexOf("navprevious")+1){ci--}else{if(tt.indexOf("navnext")+1){ci++}else{if(tt.indexOf("navfirst")+1){ci=0}else{if(tt.indexOf("navlast")+1){ci=frameCount-1}else{if(tt.indexOf("navplay")+1){np=true;_killPlay();pt=p.slideShowStartDelay||curCD||0;play.active=true;ci++}}}}}if(ci<0){(p.loopFrames||fPLY||np)?ci=frameCount-1:ci=0}else{if(ci>=frameCount){(p.loopFrames||fPLY||np)?ci=0:ci=frameCount-1}}if(ci!=framePos){(pt)?_play(pt):t.navigateTo(ci,fPLY)}}else{if(tt.indexOf("zoom")+1){var zf=rpz||zoomFactor;if(tt.indexOf("plus")+1){zf=zf*(p.zoomStepSize||1.5)}else{if(tt.indexOf("minus")+1){zf=zf/(p.zoomStepSize||1.5)}}zf=Math.round(zf*Math.pow(10,2))/Math.pow(10,2);if(!(rpz&&(zf<(p.zoomMin||0.33)||zf>(p.zoomMax||16)))){rpz=null;if(zf<(p.zoomMin||0.33)){rpz=zf;zf=p.zoomMin||0.33}else{if(zf>(p.zoomMax||16)){rpz=zf;zf=p.zoomMax||16}}_sCZ(zf);_setDynamicPropertyRefs()}_killPlay()}else{if(tt.indexOf("links")+1){t.navigateTo(a.getAttribute("nflb_flink"))}else{if(tt.indexOf("maximize")+1){if(tt.indexOf("box")+1){wMax=!wMax;if(!wMax){cpo.style.position="relative";contentC.style.minWidth="";contentC.style.minHeight=""}}else{contentMaximized=!contentMaximized}_xBars();_setButtonSwitchState();_setSize(true);_destroyOverlay()}else{if(tt.indexOf("expand")+1&&!t.isModal){if(!t.child){var np=NF.u.object.clone(p);var f=np.frames;for(var i in f){if(f[i].expandSrc){f[i].src=f[i].expandSrc;delete f[i].width;delete f[i].height}}t.child=new NF.lightBox(id+"_expand",np,document.body,true,true);t.child.parent=t}t.child.show(framePos)}else{if(tt.indexOf("close")+1){_cbox()}}}}}}}_killOverlay2(true,true);_sInpF();NF.u.e.fire(t,"commandExecuted",{commandType:tt});return true}function _xBars(fON){var a=zBR.ie8Down;var de=document.documentElement.style;if(wMax&&!fON){NF.u.d.aC(pc,"nflb_hideScrollBars");if(a){de.overflow="hidden"}}else{NF.u.d.rC(pc,"nflb_hideScrollBars");if(a){de.overflow=""}}}function _setButtonSwitchState(){for(var i in buttons){var a=buttons[i];var tt=i;var sw_cname=a.getAttribute("nflb_switch_"+tt,2);var sw_type=a.getAttribute("nflb_switch_type_"+tt,2);if(!eval(sw_type)){var ti=sw_cname;sw_cname=tt;tt=ti}NF.u.d.aC(a,"nflb-control-"+sw_cname);NF.u.d.rC(a,"nflb-control-"+tt)}}function _sCZ(zf){var oldzf=zoomFactor;zoomFactor=zf;_adjustDragPosOnZoomChange(oldzf,zf);var sn=NF.u.c.getBrowserSpecifcStyleName("transform",zf);if(sn.styleName){var sv=((cType&&cType.type!="object")?sn.zoomValue:"");contentH.style[sn.styleName]=sv}_sCZC(zf)}function _sCZC(zf){var c=((zf>1)?"move":"");if(cfr.NFC){cfr.NFC.style.cursor=c}if(overlay){overlay.style.cursor=c}}function _SFO(ref,get_length){var c=0;for(var i in p.frames){var a=p.frames[i];if(i=="onError"){if(ref==a||ref==i){cfr=NF.u.object.clone(a);return}continue}if(!get_length){if((typeof ref=="number"&&c==ref)||(typeof ref=="string"&&i==ref)||(typeof ref=="object"&&ref==a)){cfr=NF.util.object.clone(a);pfp=framePos;framePos=c;frameID=i;return}}if(a.uL){NF.lightBoxManager.uL=a.uL}c++}return c}function _hideButtons(){if(isSD){return}var t=((wMax)?"player_maxhide":"player_hide");if(tbC[t]){tbC[t].play()}else{_tbCAnimPlayedToEnd_hide({})}if(bbC[t]){bbC[t].play()}else{_bbCAnimPlayedToEnd_hide({})}}function _tbCAnimPlayedToEnd_hide(){var so=(wMax?topbarT.parentNode:tbC);if(!_getNMVal(scd)){so.style.visibility="hidden"}tbC.nflbAP=1;_barContainersHidden()}function _bbCAnimPlayedToEnd_hide(e){var so=(wMax?botbarT.parentNode:bbC);if(!_getNMVal(scd)){so.style.visibility="hidden"}bbC.nflbAP=1;_barContainersHidden()}function _barContainersHidden(){if(isSD){return}if(tbC.nflbAP&&bbC.nflbAP){tbC.nflbAP=null;bbC.nflbAP=null;var a=(!wMax?cpo.player_hide:cpo.player_inlinehide);(a&&!(wMax&&p.syncCurNextFrameAnims))?a.play():_boxContentPlayedToEnd_hide({})}}function _blockoutPlayedToEnd_show(){if(isSD){return}_centerBox();boxC.style.visibility="inherit";if(box.player_init){box.player_init.play()}else{_boxAnimPlayedToEnd_init({})}}function _boxAnimPlayedToEnd_init(e){if(isSD){return}if(!iRun&&pPL&&(cfr.plType=="inlineHTML"||NF.lightBoxManager.plA.indexOf(cfr.src)+1)){cfr.pL=true}else{load.style.visibility="inherit"}if(load.player_show&&!cfr.pL){load.player_show.play()}else{_initContent()}}function _getDataType(a,fr){var r={};var m;var al=a.toLowerCase();var ct;if(ct=_gESV(fr.type)){var h5c=ct.indexOf("html5")+1;if(ct=="flashplayer"||ct=="quicktime"||ct=="flashanimation"||h5c){if(h5c){ct=ct.split("/");if(ct.length>1){r.html5VT=ct[1]}ct=ct[0]}r.subType=ct;r.type="object"}else{r.type=ct}}else{if(a.indexOf("<")+1){r.type="inlineHTML"}else{if(al.match(/(\.gif)|(\.jpg)|(\.jpeg)|(\.png)|(\.ico)/g)){r.type="img"}else{if(m=al.match(/(youtube)|(apple)|(yahoo)|(\.swf)|(\.mov)|(\.flv)|(\.mp4)|(\.webm)|(\.ogg)|(\.avi)/)){r.type="object";if(m[0]=="apple"||m[0]==".mov"){r.subType="quicktime"}else{if(m[0]=="youtube"&&al.match(/embed/)){r.subType="youtube"}else{if(m[0]==".flv"){r.subType="flashplayer"}else{if(m[0]==".mp4"||m[0]==".webm"||m[0]==".ogg"||m[0]==".avi"){var ts=m[0].substring(1);var dp=_gESV(p.defaultVideoPlayer);if(!dp&&_checkVideo(ts)){r.subType="html5";r.html5VT=ts}else{r.subType=dp||"flashplayer"}}else{if(m[0]==".swf"){r.subType="flashanimation"}}}}}}else{r.type="iframe"}}}}return r}function _initContent(){if(isSD){return}var a=cfr.src;var ni,is_img;cType=_getDataType(a,cfr);var ct=cType.type;var sv=(!(ct=="img"||ct=="inlineHTML")?"none":"");for(var i in disableC){disableC[i].style.display=sv}if(cfr.NFC){_showBox();return}if(ct=="img"){is_img=true;ni=_initContent2("IMG");ni.onload=function(){if(!cfr.isSized){cfr.width=this.width;cfr.height=this.height;cfr.isSized=true}this.onload=null;_showBox()};ni.onerror=function(){_showError()};ni.onabort=function(){_showError()};ni.src=a}else{if(ct=="object"){if(!cfr.isSized){cfr.width=480;cfr.height=320;cfr.isSized=true}var td=document.createElement("DIV");var ac="";var st=cType.subType;if(st=="html5"){ac+='<video controls="controls" autoplay="autoplay">';ac+='<source src="'+a+'" type="video/'+cType.html5VT+'"/>';ac+="</video> "}else{if(st=="quicktime"){if(zBR.ie){ac+='<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" >'}else{ac+='<object type="video/quicktime" data="'+a+'" >'}ac+=_I2();ac+='<param name="src" value="'+a+'"/>';ac+=_I3("QuickTime");ac+="</object>"}else{if(st=="flashplayer"){var fp;if(!(fp=p.flashVideoPlayer)){_showError("The flashVideoPlayer parameter is not defined.");return}ac+='<object type="application/x-shockwave-flash" data="'+fp+'">';ac+=_I2();var cs="&autostart=true&backcolor=0x000000&frontcolor=0xCCCCCC&lightcolor=0x555555";if(zBR.ie){ac+='<param name="movie" value="'+p.flashVideoPlayer+"?file="+a+cs+'"/>'}else{ac+='<param name="flashvars" value="file='+a+cs+'"/>'}ac+=_I3("Flash");ac+="</object>"}else{if(st=="youtube"){ac+='<iframe src="'+a+'?HD=1;rel=0;showinfo=0" frameborder="0" allowfullscreen style="background-color:#000;">'}else{ac+='<object type="application/x-shockwave-flash" data="'+a+'">';ac+=_I2();if(st!="flashanimation"||zBR.ie8Down){ac+='<param name="movie" value="'+a+'"/>'}ac+=_I3("Flash");ac+="</object>"}}}}td.innerHTML=ac;ni=_initContent2(td.firstChild)}else{if(ct=="inlineHTML"){ni=_initContent2("DIV");ni.innerHTML=a;if(!cfr.isSized){test.appendChild(ni);cfr.width=ni.offsetWidth;cfr.height=ni.offsetHeight;cfr.isSized=true}}else{if(a.match(/cript:void/)){_showError("The link is disabled, specify a value other than 'javascript:void(0)'");return}ni=_initContent2("DIV");ni.style.overflow="hidden";var ifr=document.createElement("IFRAME");var s=ifr.style;s.width="100%";s.height="100%";s.display="block";if(!p.iframeShowScrollBars){ifr.setAttribute("scrolling","no")}ifr.frameBorder=0;ni.appendChild(ifr);ifr.onload=_ifrLoaded;ifr.src=a;test.appendChild(ni);if(!cfr.isSized){cfr.width=640;cfr.height=480;cfr.isSized=true}if(!window.NFLB_CHROME){return}}}}if(!is_img&&cfr.isSized){_showBox()}}function _showError(m){cfr.width=0;cfr.height=0;cfr.isSized=false;cfr.NFC=null;t.show("nf_onError",true,m)}function _I3(ty){return'<div style="color:#ddd;text-align:center;font-family:arial;font-size:12px;padding:20px;">Please install the '+ty+" Player to view this content.</div>"}function _I2(){var ac='<param name="bgcolor" value="#000000"/>';ac+='<param name="wmode" value="transparent"/>';ac+='<param name="allowfullscreen" value="true"/>';ac+='<param name="autostart" value="true"/>';ac+='<param name="allowScriptAccess" value="always">';return ac}function _getMinDimensions(){var rd={w:0,h:0};var md=p.minContentSpaceDimensions||{};if(typeof md[cType.type]=="object"){rd.w=md[cType.type].w||0;rd.h=md[cType.type].h||0}return rd}function _apply_content_styles(){eCSize={w:0,h:0};for(var i in cfr.styles){cfr.NFC.style[i]=cfr.styles[i]}var ps="";var z=cfr.scale||1;var md=_getMinDimensions();var ch=parseInt(cfr.height*z);var cw=parseInt(cfr.width*z);if(ch<md.h){var ph=(md.h-ch)/2||0;ps+=ph+"px";if(!(cw<md.w)){ps+=" 0px"}}if(cw<md.w){var pw=(md.w-cw)/2||0;ps+=" "+pw+"px";if(!(ch<md.h)){ps="0px"+ps}}if(ps){cfr.NFC.style.margin=ps}test.appendChild(cfr.NFC);eCSize=NF.util.css.getOuterOffsets(cfr.NFC,true)}function _initContent2(type){var ni;if(typeof type=="string"){ni=document.createElement(type)}else{ni=type}ni.ondblclick=_hCDbl;ni.onclick=function(e){e=e||window.event;var tg=e.target||e.srcElement;while(tg&&tg!=ni&&tg.tagName!="A"){tg=tg.parentNode}_killPlay();_sInpF();if(!cOL){_activateOverlay(e,false,true)}cOL=false;if(cType.type!="object"&&(!tg||tg.tagName!="A")){return zSP(e||window.event)}};ni.style.outline="none";if(p.overlayShowOnMouseOver){ni.onmouseover=_activateOverlay}if(type=="IMG"||typeof type!="string"){ni.style.display="block"}cfr.NFC=ni;return ni}function _bBdrsOnOff(off){var cso=[box,bbC.firstChild,tbC.firstChild];for(var i=0;i<cso.length;i++){var setv=(wMax?"0px":"");if(off){setv=""}cso[i].style.borderWidth=setv;if(t.isModal){cso[i].style.borderRadius=setv}}}function _setMarginOffsets(ac){var md_t=tbC.offsetHeight-(parseInt((NF.util.css.getComputedStyle(tbC,"margin-top","marginTop")))||0);var md_b=bbC.offsetHeight+(parseInt((NF.util.css.getComputedStyle(bbC,"margin-top","marginTop")))||0);var mdif=parseInt(((nobar.top?0:md_t)-(nobar.bottom?0:md_b))/2)||0;var pmt=parseInt(load.style.marginTop)||0;if((ac&&pmt!=mdif&&(boxC.player_showcenter))){boxC.setAttribute("prev_topm",pmt);boxC.setAttribute("cur_topm",mdif);load.setAttribute("prev_topm",pmt);load.setAttribute("cur_topm",mdif);(wMax)?boxC.style.marginTop=mdif+"px":boxC.player_showcenter.play();load.player_showcenter.play()}else{boxC.style.marginTop=mdif+"px";load.style.marginTop=mdif+"px"}return(nobar.top?0:md_t)+(nobar.bottom?0:md_b)}function _setSize(fromMax,fromC){if(isSD){return}var a=cfr.NFC;if(cfr.isSized){if(!bXD||fromMax){_bBdrsOnOff();bx_off=NF.u.css.getOuterOffsets(box);bx_off.h+=_setMarginOffsets(true);bXD={};var zo=NF.util.css.getOuterOffsets(contentC,true);bXD.icWidth=zo.w;bXD.icHeight=zo.h;bXD.pad=_gESV(p.minBlockoutPadding)||{topBottom:10,leftRight:10}}var mh=0,mw=0;if(!wMax){mh=bXD.pad.topBottom;mw=bXD.pad.leftRight}var z=cfr.scale||1;var adj={w:0,h:0};var wd=getParentContainerDimensions();var cw=cfr.width*z;var ch=cfr.height*z;var zf={w:0,h:0};var sfit=p.stretchFit||cfr.stretchFit;var tw,th;if((tw=cw+bx_off.w+bXD.icWidth+eCSize.w+(mw*2))>wd.width){adj.w=tw-wd.width}else{zf.w=wd.width-tw}if((th=ch+bx_off.h+bXD.icHeight+eCSize.h+(mh*2))>wd.height){adj.h=th-wd.height}else{zf.h=wd.height-th}if(contentMaximized){if(zf.h>0||zf.w>0){tw-=cw;th-=ch;if(!sfit){var gr=zf.h/ch;if(zf.w/cw<gr){gr=zf.w/cw}ch=ch+(ch*gr);cw=cw+(cw*gr)}else{ch=ch+(ch*(zf.h/ch));cw=cw+(cw*(zf.w/cw))}tw+=cw;th+=ch}}if(wMax){adj.w=tw-wd.width;adj.h=th-wd.height}var mo=eCSize.margin;var mo_h=0;var mo_w=0;if(mo&&(adj.w!=0||adj.h!=0)){mo_h=_sz1(mo,adj,"h","H","top","bottom");mo_w=_sz1(mo,adj,"w","W","left","right")}else{if(mo){mo_h=mo.top+mo.bottom;mo_w=mo.left+mo.right;eCSize.cW=eCSize.w;eCSize.cH=eCSize.h}}if(!sfit){if(adj.h>0&&(adj.w<=adj.h*(cw/ch))){if(wMax){mo_w+=(adj.h*(cw/ch))-adj.w}adj.w=adj.h*(cw/ch);if(adj.h-ch==0){adj.w=parseInt(adj.w)}}else{if(adj.w>0&&(adj.h<=adj.w*(ch/cw))){if(wMax){mo_h+=(adj.w*(ch/cw))-adj.h}adj.h=adj.w*(ch/cw)}}}var iw=cw-adj.w;var ih=ch-adj.h;var bw=(wMax?wd.width-bx_off.w:cw+bXD.icWidth+eCSize.cW-adj.w);var bh=(wMax?wd.height-bx_off.h:ch+bXD.icHeight+eCSize.cH-adj.h);if(iw<0){mo_w+=iw}if(zBR.chrome||zBR.safari||zBR.ie8Down){var mw1=parseInt(mo_w/2);var mw2=Math.round(mo_w/2);var mh1=parseInt(mo_h/2);var mh2=Math.round(mo_h/2);a.style.margin=mh1+"px "+mw2+"px "+mh2+"px "+mw1+"px"}else{a.style.margin=(mo_h/2)+"px "+(mo_w/2)+"px"}if(!wMax&&p.matchMinWidthToControlBars){var topD=bw-(barRW.top+(barOff.top-bx_off.w))||0;var botD=bw-(barRW.bot+(barOff.bot-bx_off.w))||0;if(topD<0||botD<0){var bd=((topD<botD)?topD:botD);bd=Math.abs(bd);var ibd=bd;if(!sfit&&iw>=0){var cm=a.offsetLeft;var nmlr=(bd/2)+cm;a.style.marginLeft=nmlr+"px";a.style.marginRight=nmlr+"px";ibd=0}iw+=ibd;bw+=bd;if(bw+bx_off.w+(mw*2)>wd.width){var tiw=(bw+bx_off.w-wd.width)+(mw*2);if(!sfit){var cm=a.offsetLeft;var nmlr=cm-(tiw/2);a.style.marginLeft=nmlr+"px";a.style.marginRight=nmlr+"px";tiw=0}iw-=tiw;bw-=(bw+bx_off.w-wd.width)+(mw*2)}}}if(iw<0){iw=0}if(ih<0){ih=0}if(bw<0){bw=0}if(bh<0){bh=0}if(adj.w){bh=Math.ceil(bh)}a.style.width=iw+"px";a.style.height=ih+"px";box.style.minWidth=bw+"px";box.style.minHeight=bh+"px";box.setAttribute("cur_width",bw);box.setAttribute("cur_height",bh);if(fromC&&wMax&&p.syncCurNextFrameAnims){contentC.style.minWidth=contentH.offsetWidth+"px";contentC.style.minHeight=contentH.offsetHeight+"px"}if(zoomFactor>1){_setDragPos()}}NF.u.e.fire(t,"boxResized",{boxContainer:box});_centerBox()}function _sz1(mo,adj,l,u,n1,n2){var mX=((mo[n1]||0)+(mo[n2]||0));if(mX>adj[l]){mX-=adj[l];eCSize["c"+u]=eCSize[l]-adj[l];adj[l]=0}else{adj[l]-=mX;eCSize["c"+u]=eCSize[l]-mX;mX=0}return mX}function _getNMVal(a){var r=a;if(typeof a=="object"){(wMax)?r=_gESV(a.boxMaximized)||0:r=_gESV(a.normal)||0}return r}function _showBox(from_delay){if(isSD){return}var ed=_getNMVal(p.extraLoadDelay);if(!from_delay&&ed&&!cfr.pL){setTimeout(function(){_showBox(true)},ed);return}if(iRun&&(wMax||_getNMVal(scd))){tbC.style.visibility="inherit";bbC.style.visibility="inherit"}if(wMax&&!_getNMVal(scd)){botbarT.parentNode.style.visibility="hidden";topbarT.parentNode.style.visibility="hidden"}_apply_content_styles();_links_init();_setDynamicPropertyRefs();_setSize();if(box.player_show&&(!wMax||iRun)){box.player_show.play()}else{_boxAnimPlayedToEnd_show({})}return true}function _loadingImagePlayedToEnd_hide(e){if(isSD){return}_showContent()}function _boxAnimPlayedToEnd_show(e){if(isSD){return}if(load.player_hide&&!cfr.pL){load.player_hide.play()}else{_loadingImagePlayedToEnd_hide({})}}function _showContent(){if(isSD){return}load.style.visibility="hidden";if(wMax){if(p.syncCurNextFrameAnims){if(!iRun){syncN=cpo.cloneNode(true);syncN.style.position="absolute";cpo.parentNode.appendChild(syncN);_zI1(syncN,p.boxContentHide,"hide",["playedToEnd"],[_syncFPH]);_zI1(syncN,p.boxContentMaximizedHide,"synchide",["playedToEnd"],[_syncFPH]);_zI1(syncN,p.boxContentMaximizedBackHide,"syncpfhide",["playedToEnd"],[_syncFPH])}cpo.style.position="absolute"}_removeBoxContent()}_sCZ(1);contentH.style.visibility="inherit";contentH.appendChild(cfr.NFC);if(wMax){_setSize(null,true)}contentC.style.visibility="inherit";NF.u.e.fire(t,"frameContentAdded",{frameContent:cfr.NFC});var ft="";if(pfp!=null&&pfp>framePos){ft="pf"}var ps=NF.anim.playerSynchronizer;var b;if(syncN){(b=(syncN["player_sync"+ft+"hide"]||syncN.player_synchide||syncN.player_hide))?ps.addPlayer(b):_syncFPH()}var a=(!wMax?cpo.player_show:(cpo["player_inline"+ft+"show"]||cpo.player_inlineshow||cpo.player_show));var c=cpo.player_initshow;if(iRun&&c){a=c}(a)?ps.addPlayer(a):_boxContentPlayedToEnd_show();ps.play(5);a=NF.lightBoxManager;if(cfr.plType!="inlineHTML"&&pPL&&a.plA.indexOf(cfr.src)==-1){if(!a.plA){a.plA+=","}a.plA+=cfr.src}}function _syncFPH(){cpo.parentNode.removeChild(syncN);syncN=null}function _setDynamicPropertyRefs(){for(var i in dupdate){if(dupdate[i]){var tval="NodeFire LightBoxy by OpenCube [ <a href='http://wwww.opencube.com'>http://www.opencube.com</a> ]";var ref;if(ref=dupdate[i].getAttribute("duppropertyref")){tval=_match_replace_propertyhooks(ref,dupdateT[i])}dupdate[i].innerHTML=tval;NF.u.e.fire(t,"propertyHookUpdated",{newContent:tval,hookStatement:dupdateT[i],node:dupdate[i]})}}botbarT.style.width="1px";barRW.bot=botbarT.offsetWidth;botbarT.style.width="";topbarT.style.width="1px";barRW.top=topbarT.offsetWidth;topbarT.style.width=""}function _match_replace_propertyhooks(pr,text){pr=pr.split(" ");for(var i=0;i<pr.length;i++){var ob=pr[i].replace("frames","cfr");var sv;try{sv=eval(ob)||""}catch(e){sv="Error"}text=text.replace("<propertyhook:"+pr[i]+">",sv)}return text}function _boxContentPlayedToEnd_hide(e){if(isSD){return}if(!wMax){_removeBoxContent()}else{if(!p.syncCurNextFrameAnims){cpo.style.visibility="hidden"}}t.show(cfr)}function _boxContentPlayedToEnd_show(e,from_delay){if(isSD){return}var ad;if(!from_delay&&(ad=p.beforeShowControlBarsDelay)){setTimeout(function(){_boxContentPlayedToEnd_show(e,true)},ad);return}_showButtons();_play()}function _showButtons(){var t=((wMax)?"player_maxshow":"player_show");var a={top:[tbC,topbarT],bottom:[bbC,botbarT]};var hb;for(var i in a){if(!nobar[i]){a[i][0].style.visibility="inherit";(!p.barControlsShowWhileTransitioning);a[i][1].parentNode.style.visibility="inherit";if(a[i][0][t]){a[i][0][t].play()}else{_buttonsPlayedToEnd_show({})}hb=true}}if(!hb){_buttonsPlayedToEnd_show({})}}function _buttonsPlayedToEnd_show(e){if(!bsPlayed&&!nobar.top&&!nobar.bottom){bsPlayed=true;return}else{inTransition=false;bsPlayed=false;NF.u.e.fire(t,"transitionsFinished",{frameId:frameID})}if(p.hasDefaultFocus||!t.isInline){_sInpF()}}this.resize=function(){if(iVis){_destroyOverlay();_setSize()}};function _centerBox(e){var bs=boxC.style;if(zBR.opera&&iDB){bout.style.height=window.innerHeight+"px"}var wd=getParentContainerDimensions();var sd=((!iDB&&t.isModal)?gScrlOffset():{left:0,top:0});if(zBR.ie7Down){bs.left="0px";bs.top="0px"}bs.left=parseInt(((wd.width-boxC.offsetWidth)/2)+sd.left)+"px";bs.top=parseInt(((wd.height-boxC.offsetHeight)/2)+sd.top)+"px";load.style.left=(((wd.width-load.offsetWidth)/2)+sd.left)+"px";load.style.top=(((wd.height-load.offsetHeight)/2)+sd.top)+"px";if(!iDB&&t.isModal){bout.style.position="absolute";bout.style.top=(sd.top)+"px";bout.style.left=(sd.left)+"px"}NF.u.e.fire(t,"boxPositioned",{boxContainer:boxC})}function _cboxDbl(e){if(SDt){clearTimeout(SDt);SDt=null}return zSP(e||window.event,true)}function _cbox(e,fd){if(!iDB&&!(t.isModal&&!iDB)){_sInpF();return}e=e||window.event;if(!fd){SDt=setTimeout(function(){_cbox(null,true)},10);zSP(e);return}isSD=true;boxC.style.visibility="hidden";tbC.style.visibility="hidden";bbC.style.visibility="hidden";load.style.visibility="hidden";_xBars(true);iVis=false;box.style.minWidth="";box.style.minHeight="";_bBdrsOnOff(true);_sCZ(1);_removeBoxContent();_killPlay(true);var abh=bout.player_hide;if(abh){abh.play()}else{_blockoutPlayedToEnd_hide()}NF.u.d.rC(document.body,"nflb_kill-wkithl");t.parent?t.parent.focus():inp.blur()}function _blockoutPlayedToEnd_hide(){bout.style.visibility="hidden"}function _blockoutMouseOver(e){zSP(e);_killOverlay(e)}function _removeBoxContent(){_destroyOverlay();_removeChildren(contentH,true);contentC.style.visibility="hidden"}function _removeChildren(a,killmargin){var ch=a.childNodes;for(var i=0;i<ch.length;i++){if(ch[i]){if(killmargin){ch[i].style.margin=""}a.removeChild(ch[i]);i--}}}function _ifrLoaded(e){cfr.NFC.firstChild.onload=null;_showBox()}function getParentContainerDimensions(){if(zBR.mobile&&iDB){return{width:(window.innerWidth)||0,height:(window.innerHeight)||0}}else{var t=bout.getBoundingClientRect();return{width:(t.right-t.left)||0,height:(t.bottom-t.top)||0}}}function gScrlOffset(){var sy=0,sx=0;sy=((sy=document.documentElement)&&(sy=sy.scrollTop))||(sy=pc.scrollTop);sx=((sx=document.documentElement)&&(sx=sx.scrollLeft))||(sx=pc.scrollLeft);return{top:sy,left:sx}}function _createAnim(a,cs,type){if(cs&&!a["player_"+type]){var tl=new NF.anim.timeline();for(var i=0;i<cs.length;i++){var track=new NF.anim.track();for(var j=0;j<cs[i].length;j++){var n=cs[i][j][1].node;if(n=="this"){n=a}var f=parseInt(cs[i][j][1].frames*_getAnimationFrameFactor());if(f){var clip=new NF.anim.clip(cs[i][j][0],{frames:f,node:n,reset:cs[i][j][1].reset,applytype:cs[i][j][1].applytype,ease:cs[i][j][1].ease,opacityInsteadOfRGBAInOldBrowsers:cs[i][j][1].opacityInsteadOfRGBAInOldBrowsers,endStyles:cs[i][j][1].endStyles,startStyles:cs[i][j][1].startStyles,targetClass:cs[i][j][1].targetClass,frameAnchorPos:cs[i][j][1].frameAnchorPos,gpuBoost:cs[i][j][1].gpuBoost});track.addClip(clip)}}tl.addTrack(track)}a["player_"+type]=new NF.anim.player(tl,13);a["player_"+type].parent=a}}function _getAnimationFrameFactor(){var f;var pf=p.animationFramesFactor;if(pf){return _gESV(pf,"number")}return 1}function _gESV(a,ctype,b){return NF.u.browser.getValue(a,ctype,t)}function _handleDragContent_down(e){if(zoomFactor<=1){return}e=e||window.event;drag.mdown=true;drag.px=e.screenX;drag.py=e.screenY;zSP(e)}function _handleDragContent_move(e){e=e||window.event;if(drag.mdown){cOL=true;drag.sl=drag.sl-(drag.px-e.screenX);drag.st=drag.st-(drag.py-e.screenY);_setDragPos();drag.px=e.screenX;drag.py=e.screenY;drag.moved=true}zSP(e)}function _handleDragContent_up(e){drag.mdown=false;drag.moved=false}function _adjustDragPosOnZoomChange(oz,nz){var hs=contentH.style;if(nz>1){drag.sl=(drag.sl/oz)*nz;drag.st=(drag.st/oz)*nz;_setDragPos()}else{hs.left="0px";hs.top="0px";drag.sl=0;drag.st=0}}function _setDragPos(){var hs=contentH.style,ow=cfr.NFC.offsetWidth,oh=cfr.NFC.offsetHeight;var xm=parseInt((ow*zoomFactor-ow)/2);var ym=parseInt((oh*zoomFactor-oh)/2);var osx=0;var osy=0;var fz=1;if(zBR.ie8Down){fz=zoomFactor;osx=xm;osy=ym}if(zoomFactor<=1){hs.left=drag.sl+"px";hs.top=drag.st+"px"}else{if(Math.abs(drag.sl+osx)<xm){hs.left=(drag.sl/fz)+"px"}else{drag.sl=(drag.sl+osx>0)?xm-osx:-(xm+osx);hs.left=(drag.sl/fz)+"px"}if(Math.abs(drag.st+osy)<ym){hs.top=(drag.st/fz)+"px"}else{drag.st=(drag.st+osy>0)?ym-osy:-(ym+osy);hs.top=(drag.st/fz)+"px"}}}function _captureMouseMove(e){e=e||window.event;if(drag.mdown){_handleDragContent_move(e)}}function _captureMouseUp(e){e=e||window.event;if(drag.mdown){_handleDragContent_up(e)}}function _hLW(e){e=e||window.event;if(drag.mdown){var t=e.relatedTarget||e.toElement;if(!t||t.nodeName=="HTML"){_handleDragContent_up(e)}}}function _links_init(){for(var i in links){var l=linksP[i];var rows=_gESV(l.rows)||1;var tCols=l.nls_totalC;var cols=_gESV(l.visibleColumns)||10;if(cols>tCols){cols=tCols}l.sCols=cols;if(!l.nls_divs){l.nls_divs=links[i].getElementsByTagName("DIV")}var cols_h=parseInt(cols/2);var colPos=parseInt(framePos/rows);var sc=0,z;if((z=colPos-cols_h)>=0){sc=z;if(sc+cols>tCols){sc=(tCols-cols)}}if(linksP[i].nls_startC!=sc){_links_scroll_it(i,sc)}var ld=l.nls_divs;for(var j=0;j<ld.length;j++){NF.u.d.rC(ld[j],"nflb-control-framelinks-items-active");if(ld[j].getAttribute("nflb_flink")==frameID){NF.u.d.aC(ld[j],"nflb-control-framelinks-items-active")}}linksP[i].nls_startC=sc}}function _links_scroll_it(lname,sc){var lp=linksP[lname];var d=lp.nls_divs;var tw=0;var ch=links[lname].getElementsByTagName("TD");for(var i=sc;i<sc+lp.sCols;i++){if(ch[i]){tw+=ch[i].offsetWidth||0}}var lc=links[lname];lc.parentNode.style.width=tw+"px";lc.style.left=-ch[sc].offsetLeft+"px"}function _handleContentHolderClick(e){if(zBR.mobile){var ac=((wMax)?"Box":"Content");_clickButton("maximize"+ac)}}function _killOverlay(e){e=e||window.event;if(oTimer){clearTimeout(oTimer)}if(overlay&&oHKids){e=e||window.event;var t=e.target||e.srcElement;while(t&&t!=overlay&&t.tagName!="BODY"){t=t.parentNode}if(t!=overlay){var phd=p.overlayHideDelay;if(phd){oTimer=setTimeout(function(){_killOverlay2()},phd)}else{_killOverlay2()}}}zSP(e)}function _killOverlay2(a,b){if(oTimer){clearTimeout(oTimer)}if(overlay){var ph=overlay.player_hide;var ps=overlay.player_show;if(ph&&ph.isPlaying()){if(!a){ph.setPlayDirection("forward")}return}if(ps&&ps.isPlaying()){if(!a){ps.setPlayDirection("reverse")}return}if(!b){oWaitMOut=false}if(overlay.player_hide){overlay.player_hide.play()}else{_destroyOverlay()}}}function _destroyOverlay(){if(overlay){if(oTimer){clearTimeout(oTimer)}var ph=overlay.player_hide;var ps=overlay.player_show;if(ph&&ph.isPlaying()){ph.stop()}if(ps&&ps.isPlaying()){ps.stop()}_initOverlayAnims(overlay);_removeChildren(overlay,true);overlay.style.visibility="hidden";oHKids=false}}function _activateOverlay(e,wait,from_click){if(oSkipS){oSkipS=false;return}if(cType.type=="iframe"||cType.type=="object"){return}e=e||window.event;if(oTimer){clearTimeout(oTimer)}if((!from_click&&zoomFactor!=1)||(cfr.killOverlay)){return}if(overlay&&(oHKids||!cfr.NFC||(!from_click&&(oWaitMOut||drag.mdown)))){if(!from_click&&!oWaitMOut){var z1;if((z1=overlay.player_show)&&z1.isPlaying()){z1.setPlayDirection("forward")}if((z1=overlay.player_hide)&&z1.isPlaying()){z1.setPlayDirection("reverse")}}zSP(e,true);return}if(!from_click&&!wait){var psd=p.overlayShowDelay;if(psd){oTimer=setTimeout(function(){_activateOverlay(null,true)},psd)}else{_activateOverlay(null,true)}zSP(e,true);return}_sInpF();if(from_click){oWaitMOut=true}if(p.overlay){var ol,s;if(!(ol=overlay)){ol=overlay=document.createElement("DIV");ol.id=id+"_overlay";ol.className="nflb-overlay-background";s=ol.style;s.position="absolute";s.zIndex="999999";s.visibility="hidden";_sCZC(zoomFactor);ol.onmouseover=function(){zSP(e,true)};ol.onclick=function(e){e=e||window.event;_killPlay();_killOverlay2(true);oWaitMOut=true;_sInpF();zSP(e,true)};_initOverlayAnims(ol);contentC.appendChild(ol);_gpuBoost(ol)}s=ol.style;var b="overlayFillContainer";if(cfr[b]||p[b]){s.top="0px";s.left="0px";s.width=contentC.offsetWidth+"px";s.height=contentC.offsetHeight+"px"}else{s.top=(cfr.NFC.offsetTop+contentH.offsetTop-drag.st)+"px";s.left=(cfr.NFC.offsetLeft+contentH.offsetLeft-drag.sl)+"px";s.width=cfr.NFC.offsetWidth+"px";s.height=cfr.NFC.offsetHeight+"px"}ol.innerHTML=_createOverlayContent();var dd=ol.getElementsByTagName("DIV");_attachButtonEvents(dd);s.visibility="inherit";oHKids=true;var ps=ol.player_show;if(ps){ps.setPlayDirection("forward");ps.play()}_overlayResetHideAnim()}zSP(e,true)}function _initOverlayAnims(ol){_zI1(ol,p.overlayShow,"show",["playedToStart"],[_destroyOverlay]);_zI1(ol,p.overlayHide,"hide",["playedToEnd","playedToStart"],[_destroyOverlay,_overlayResetHideAnim])}function _overlayResetHideAnim(){if(overlay){var ph=overlay.player_hide;if(ph){ph.setPlayDirection("forward")}}}function _calcOverlayScales(s,type){var cv=((type=="row")?{top:1,middle:1,bottom:1}:{left:1,center:1,right:1});var t=0,c=0;for(var i in cv){if(!s[i]){s[i]=1}if(typeof s[i]=="number"){t+=s[i];c++}}t=(3-t)/(3-c);for(var i in cv){if(s[i]&&typeof s[i]!="number"){cv[i]=t}else{cv[i]=s[i]}}return cv}function _createOverlayContent(){ih="";var po=p.overlay;if(po){var ow=overlay.offsetWidth;var oh=overlay.offsetHeight;var gridS=((p.overlayShowGrid)?"background-color:rgba(0,0,0,.5);border:1px solid #0f0;":"");var gb=((gridS)?2:0);var bw=(ow/3)-gb;var bh=(oh/3)-gb;rVals=_calcOverlayScales(p.overlayRowScale||{},"row");cVals=_calcOverlayScales(p.overlayColumnScale||{},"column");for(var k=0;k<9;k++){var r={col:"left",row:"top"};if(k>2){r.row="middle"}if(k>5){r.row="bottom"}if(k==1||k==4||k==7){r.col="center"}if(k==2||k==5||k==8){r.col="right"}var sbh=rVals[r.row]*bh;var sbw=cVals[r.col]*bw;ih+='<div style="width:'+sbw+"px;height:"+sbh+"px;position:relative;float:left;"+gridS+'">';for(var i in po){var a=po[i];for(var j in a){var jl=j.toLowerCase();if(j!="scale"&&!(frameCount==1&&jl.indexOf("nav")+1)){if(a[j].src&&(!a[j].environment||(_gESV(a[j].environment)))&&!(t.isInline&&j.match(/close/))&&!(t.isModal&&j.match(/expand/))){var gos=document.createElement("DIV");gos.className="nflb-overlay-control-button nflb-overlay-control-button-"+jl;gos.style.position="absolute";gos.style.minWidth="0px";gos.style.minHeight="0px";test.appendChild(gos);var oCSize=NF.util.css.getOuterOffsets(gos,true);test.removeChild(gos);var cmW=oCSize.margin.left+oCSize.margin.right;var cmH=oCSize.margin.top+oCSize.margin.bottom;var p_col=a[j].position;var p_row=i;if(p_col==r.col&&p_row==r.row){var minW=_gESV(a[j].minWidth)||0;var minH=_gESV(a[j].minHeight)||0;var srcW=_gESV(a[j].maxWidth)||sbw;var srcH=_gESV(a[j].maxHeight)||sbh;srcW+=oCSize.w-cmW||0;srcH+=oCSize.h-cmH||0;if(srcW>sbw||srcH>sbh){var diffW=sbw-srcW;var diffH=sbh-srcH;var gr=diffH/srcH;if(diffW/srcW<gr){gr=diffW/srcW}srcW=srcW+(srcW*gr);srcH=srcH+(srcH*gr)}var rbw=srcW-oCSize.w+cmW;var rbh=srcH-oCSize.h+cmH;mar={t:Math.round((sbh-srcH-cmH)/2)||0,l:Math.round((sbw-srcW-cmW)/2)||0};mar.l+=oCSize.margin.left;mar.t+=oCSize.margin.top;if(rbw<minW){mar.l-=(minW-rbw)/2;rbw=minW}if(rbh<minH){mar.t-=(minH-rbh)/2;rbh=minH}if(a[j].align){var als=a[j].align.split(" ");if(als[0]=="top"){mar.t=oCSize.margin.top}else{if(als[0]=="bottom"){mar.t=(mar.t*2)-oCSize.margin.bottom}}if(als[1]=="left"){mar.l=oCSize.margin.left}else{if(als[1]=="right"){mar.l=(mar.l*2)-oCSize.margin.right}}}var addm="margin:"+mar.t+"px 0px 0px "+mar.l+"px;";if(!((parseInt(rbw+oCSize.w-cmW)>sbw)||(parseInt(rbh+oCSize.h-cmH)>sbh))){ih+='<div nflb_isoverlay="1" nflb_btype="'+jl+'" class="nflb-overlay-control-button nflb-overlay-control-button-'+jl+'" style="cursor:pointer;position:relative;'+addm+"width:"+rbw+"px;height:"+rbh+'px;">';ih+='<img src="'+a[j].src+'" style="display:block;width:'+rbw+"px;height:"+rbh+'px;">';ih+="</div>"}}}}}}ih+="</div>"}}return ih}function _handleTouchStart(e){var t=e.touches;if(t){touch.iz=zoomFactor;touch.moved0=false;touch.moved1=false;for(var i=0;i<t.length;i++){touch["ix"+i]=t[i].screenX;touch["iy"+i]=t[i].screenY;touch["ox"+i]=t[i].screenX;touch["oy"+i]=t[i].screenY}}touch.sLeft=parseInt(contentH.style.left);touch.sTop=parseInt(contentH.style.top);_trackDoubleTouch(e,"start");zSP(e)}function _handleTouchMove(e){var a=touch;var t=e.touches;if(t&&cfr.NFC){for(var i=0;i<t.length;i++){a["cx"+i]=(a["ix"+i]-t[i].screenX);a["mx"+i]=(a["mx"+i]||0)-a["cx"+i];a["ix"+i]=t[i].screenX;a["my"+i]=(a["my"+i]||0)-(a["iy"+i]-t[i].screenY);a["iy"+i]=t[i].screenY;a["moved"+i]=true}if(t.length==1){drag.sl=(a.mx0+a.sLeft);if(zoomFactor>1){drag.st=(a.my0+a.sTop)}_setDragPos()}else{if(t.length>1){var ov=Math.abs(a.ox0-a.ox1)+Math.abs(a.oy0-a.oy1);var nv=Math.abs(a.ix0-a.ix1)+Math.abs(a.iy0-a.iy1);var r=(nv/ov)*a.iz;_sCZ(r)}}}zSP(e,true)}function _handleTouchEnd(e){var t=touch;var sz=zoomFactor;if(t.moved0&&t.moved1){if(sz>p.zoomMax){sz=p.zoomMax}else{if(sz<p.zoomMin){sz=p.zoomMin}}_sCZ(sz)}else{if((t.moved0&&Math.abs(t.mx0)>100)&&(Math.abs(t.cx0)>10)&&zoomFactor<=1){contentH.style.visibility="hidden";contentH.style.left="0px";_killPlay();var ty=((t.mx0<0)?"next":"previous");_clickButton("nav"+ty,null,false)}else{if(t.moved0&&sz<=1){contentH.style.left="0px";contentH.style.top="0px"}else{_trackDoubleTouch(e)}}}t.mx0=0;t.mx1=0;t.my0=0;t.my1=0;zSP(e)}function _trackDoubleTouch(e,type){type=type||"end";if(touch["tt_"+type]){clearTimeout(touch["tt_"+type]);touch["tt_"+type]=null;e.preventDefault();if(type=="end"){if(zoomFactor!=1){zoomFactor=1;_sCZ(1)}else{if(iDB){_clickButton(params.mobileDoubleTapBehaviour||"maximizeBox")}else{_hCDbl()}}}}else{touch["tt_"+type]=setTimeout(function(){clearTimeout(touch["tt_"+type]);touch["tt_"+type]=null},500)}zSP(e)}function _checkVideo(type){var ve=document.createElement("video");if(ve.canPlayType){return ve.canPlayType("video/"+type)}}function _handleScroll(e){e=e||window.event;_centerBox(e)}function _handleKeys(e){e=e||window.event;var kc=e.keyCode,pd,ctrl=e.ctrlKey,shift=e.shiftKey;var bu;if(kc==27){_cbox()}else{if(kc==37){bu="nav"+(ctrl?"first":"previous")}else{if(kc==39){bu="nav"+(ctrl?"last":"next")}else{if(kc==38){bu="maximize"+(ctrl?"box":"content")}else{if(kc==40){bu="maximize"+(ctrl?"box":"content")}else{if(kc==107||kc==187){bu="zoomplus"}else{if(kc==109||kc==189){bu="zoomminus"}else{if(kc==80){bu="navplay"}else{if(kc==83){bu="navpause"}else{if(kc==13){if(zoomFactor!=1){_sCZ(1);_setDynamicPropertyRefs()}else{bu="expand"}}else{if(kc==9){bu="nav"+(shift?"previous":"next")}else{if(kc==88||kc==32){bu="expand"}}}}}}}}}}}}if(bu){_clickButton(bu,null,null)}NF.u.e.fire(t,"keyDown",{domEvent:e});if(kc==27||(kc>=37&&kc<=40)||kc==107||kc==187||kc==109||kc==189||kc==80||kc==13||kc==83||kc==88){pd=true}zSP(e,pd)}function _hCDbl(){if(!p.overlay){var a=(t.isModal?"maximizecontent":"expand");_clickButton(a,null,null,true)}}this.aOLink=function(){if(!iDB){var id=frameID;if(cOLink){_aO2("rC",cOLink.obj,"","");_aO2("rC",cOLink.obj,"","-"+cOLink.id);_aO2("rC",cOLink.obj.parentNode,"-parent","");_aO2("rC",cOLink.obj.parentNode,"-parent","-"+cOLink.id);cOLink=null}var a;if(a=p.frames[id].oLink){_aO2("aC",a,"","");_aO2("aC",a,"","-"+id);_aO2("aC",a.parentNode,"-parent","");_aO2("aC",a.parentNode,"-parent","-"+id);cOLink={obj:a,id:id};NF.u.e.fire(t,"outerLinkActiveStylesApplied",{link:a,frameId:frameID})}}};function _aO2(a,b,c,d){NF.u.d[a](b,"nflb-outside-link-"+c+"active"+d)}};NF.lightBox.prototype=NF;